-- Adminer 4.7.6 MySQL dump

SET NAMES utf8;
SET time_zone = '+00:00';
SET foreign_key_checks = 0;
SET sql_mode = 'NO_AUTO_VALUE_ON_ZERO';

SET NAMES utf8mb4;

DROP TABLE IF EXISTS `applications`;
CREATE TABLE `applications` (
  `id` bigint(20) NOT NULL AUTO_INCREMENT,
  `stack_name` varchar(255) COLLATE utf8mb4_unicode_ci NOT NULL,
  `name` varchar(255) COLLATE utf8mb4_unicode_ci NOT NULL,
  `content` longtext COLLATE utf8mb4_unicode_ci NOT NULL,
  PRIMARY KEY (`id`)
) ENGINE=InnoDB DEFAULT CHARSET=utf8mb4 COLLATE=utf8mb4_unicode_ci;

INSERT INTO `applications` (`id`, `stack_name`, `name`, `content`) VALUES
(1,	'database',	'mysql.yaml',	'version: \"3.7\"\n\nservices:\n  \n  mysql_node1:\n    image: bayrell/alpine_mariadb:10.4\n    command: --character-set-server=utf8mb4 --collation-server=utf8mb4_unicode_ci --sql-mode=\"\" --ft_min_word_len=1 --wait_timeout=600 --max_allowed_packet=1G\n    hostname: \"{{.Service.Name}}.{{.Task.ID}}.local\"\n    volumes:\n      - \"mysql_node1_data:/data\"\n    env_file:\n      - ../cloud_os/cloud_env.conf\n    deploy:\n      replicas: 1\n      endpoint_mode: dnsrr\n      update_config:\n        parallelism: 1\n        failure_action: rollback\n        delay: 5s\n      restart_policy:\n        condition: \"on-failure\"\n        delay: 10s\n        window: 120s\n      placement:\n        constraints:\n          - node.labels.name == docker0\n    networks:\n      - cloud_backend\n    logging:\n      driver: journald\n\nvolumes:\n  mysql_node1_data:\n\nnetworks:\n  cloud_backend:\n    external: true'),
(2,	'cloud_os',	'standard.yaml',	'version: \"3.7\"\n\nservices:\n  \n  standard:\n    image: bayrell/cloud_os_standard:0.3.0\n    hostname: \"{{.Service.Name}}.{{.Task.ID}}.local\"\n    volumes:\n      - \"standard_data:/data\"\n      - \"/var/run/docker.sock:/var/run/docker.sock:ro\"\n    env_file:\n      - ../cloud_os/cloud_env.conf\n    environment:\n      MYSQL_DB: \"cloud_os_standard\"\n    deploy:\n      replicas: 1\n      endpoint_mode: dnsrr\n      update_config:\n        parallelism: 1\n        failure_action: rollback\n        delay: 5s\n      restart_policy:\n        condition: \"on-failure\"\n        delay: 10s\n        window: 120s\n      placement:\n        constraints:\n          - node.labels.name == docker0\n    networks:\n      - cloud_backend\n    ports:\n      - target: 80\n      published: 8080\n      protocol: tcp\n      mode: host\n      - target: 22\n      published: 8022\n      protocol: tcp\n      mode: host\n    logging:\n      driver: journald\n\nvolumes:\n  standard_data:\n\nnetworks:\n  cloud_backend:\n    external: true\n'),
(3,	'dev',	'php.yaml',	'version: \"3.7\"\n\nservices:\n\n  php:\n    image: bayrell/alpine_php_fpm:7.3-3\n    hostname: \"{{.Service.Name}}.{{.Task.ID}}.local\"\n    volumes:\n      - \"php_data:/data\"\n    deploy:\n      replicas: 2\n      endpoint_mode: dnsrr\n      update_config:\n        parallelism: 1\n        failure_action: rollback\n        delay: 5s\n      restart_policy:\n        condition: \"on-failure\"\n        delay: 10s\n        window: 120s\n      placement:\n        constraints:\n          - \"node.hostname == docker0\"\n    networks:\n      - cloud_frontend\n    logging:\n      driver: journald\n\nvolumes:\n  php_data:\n\nnetworks:\n  cloud_frontend:\n    external: true\n'),
(4,	'cloud_os',	'gateway.yaml',	'version: \"3.7\"\n\nservices:\n  \n  gateway:\n    image: bayrell/bus_gateway:0.3.0\n    hostname: \"{{.Service.Name}}.{{.Task.ID}}.local\"\n    env_file:\n      - ../cloud_os/cloud_env.conf\n    deploy:\n      replicas: 1\n      endpoint_mode: dnsrr\n      update_config:\n        parallelism: 1\n        failure_action: rollback\n        delay: 5s\n      restart_policy:\n        condition: \"on-failure\"\n        delay: 10s\n        window: 120s\n      placement:\n        constraints:\n          - node.labels.name == docker0\n    networks:\n      - cloud_backend\n      - cloud_frontend\n    logging:\n      driver: journald\n\n  rabbitmq:\n    image: rabbitmq:3.8.9-management\n    hostname: \"{{.Service.Name}}.{{.Task.ID}}.local\"\n    volumes:\n      - \"rabbitmq_data:/var/lib/rabbitmq\"\n    deploy:\n      replicas: 1\n      endpoint_mode: dnsrr\n      update_config:\n        parallelism: 1\n        failure_action: rollback\n        delay: 5s\n      restart_policy:\n        condition: \"on-failure\"\n        delay: 10s\n        window: 120s\n      placement:\n        constraints:\n          - node.labels.name == docker0\n    networks:\n      - cloud_backend\n    logging:\n      driver: journald\n\nvolumes:\n  rabbitmq_data:\n\nnetworks:\n  cloud_backend:\n    external: true\n  cloud_frontend:\n    external: true'),
(5,	'cloud_os',	'http.yaml',	'version: \"3.7\"\n\nservices:\n  \n  http:\n    image: bayrell/load_balancer_http:0.3.0\n    hostname: \"{{.Service.Name}}.{{.Task.ID}}.local\"\n    volumes:\n      - \"http_data:/data\"\n    env_file:\n      - ../cloud_os/cloud_env.conf\n    deploy:\n      replicas: 1\n      endpoint_mode: dnsrr\n      update_config:\n        parallelism: 1\n        failure_action: rollback\n        delay: 5s\n      restart_policy:\n        condition: \"on-failure\"\n        delay: 10s\n        window: 120s\n      placement:\n        constraints:\n          - node.labels.name == docker0\n    networks:\n      - cloud_frontend\n    ports:\n      - target: 80\n        published: 80\n        protocol: tcp\n        mode: host\n    logging:\n      driver: journald    \n    \nvolumes:\n  http_data:\n\nnetworks:\n  cloud_frontend:\n    external: true');

DROP TABLE IF EXISTS `cron`;
CREATE TABLE `cron` (
  `command` varchar(255) COLLATE utf8mb4_unicode_ci NOT NULL,
  `last_run` bigint(20) NOT NULL,
  PRIMARY KEY (`command`)
) ENGINE=InnoDB DEFAULT CHARSET=utf8mb4 COLLATE=utf8mb4_unicode_ci;

INSERT INTO `cron` (`command`, `last_run`) VALUES
('Bayrell.CloudOS.DockerTasks::cron',	1612796792);

DROP TABLE IF EXISTS `domains`;
CREATE TABLE `domains` (
  `domain_name` varchar(255) COLLATE utf8mb4_unicode_ci NOT NULL,
  `nginx_template` longtext COLLATE utf8mb4_unicode_ci NOT NULL,
  `space_id` bigint(20) DEFAULT NULL,
  PRIMARY KEY (`domain_name`),
  KEY `space_id` (`space_id`),
  CONSTRAINT `domains_ibfk_1` FOREIGN KEY (`space_id`) REFERENCES `spaces` (`space_id`) ON DELETE SET NULL ON UPDATE CASCADE
) ENGINE=InnoDB DEFAULT CHARSET=utf8mb4 COLLATE=utf8mb4_unicode_ci;

INSERT INTO `domains` (`domain_name`, `nginx_template`, `space_id`) VALUES
('cloud_os.local',	'server {\n	listen 80;\n	server_name %DOMAIN_NAME%;\n	root /usr/share/nginx/default;\n	index index.html;\n	autoindex off;\n%ROUTES%\n%SSL%\n}',	NULL);

DROP TABLE IF EXISTS `layers`;
CREATE TABLE `layers` (
  `layer_uid` varchar(255) COLLATE utf8mb4_unicode_ci NOT NULL,
  `layer_name` varchar(255) COLLATE utf8mb4_unicode_ci NOT NULL,
  `space_id` bigint(20) DEFAULT NULL,
  PRIMARY KEY (`layer_uid`),
  KEY `space_id` (`space_id`),
  CONSTRAINT `layers_ibfk_1` FOREIGN KEY (`space_id`) REFERENCES `spaces` (`space_id`) ON DELETE SET NULL ON UPDATE CASCADE
) ENGINE=InnoDB DEFAULT CHARSET=utf8mb4 COLLATE=utf8mb4_unicode_ci;


DROP TABLE IF EXISTS `nginx_files`;
CREATE TABLE `nginx_files` (
  `name` varchar(255) COLLATE utf8mb4_unicode_ci NOT NULL,
  `enable` tinyint(4) NOT NULL,
  `content` longtext COLLATE utf8mb4_unicode_ci NOT NULL,
  `timestamp` bigint(20) NOT NULL,
  `is_deleted` tinyint(4) NOT NULL,
  PRIMARY KEY (`name`)
) ENGINE=InnoDB DEFAULT CHARSET=utf8mb4 COLLATE=utf8mb4_unicode_ci;

INSERT INTO `nginx_files` (`name`, `enable`, `content`, `timestamp`, `is_deleted`) VALUES
('/conf.d/99-cloud-admin-upstreams.conf',	1,	'',	1612785502,	1),
('/conf.d/99-cloud-backend-upstreams.conf',	1,	'upstream 15672.cloud_os_rabbitmq.cloud_backend.example {\n	server 172.22.0.18:15672;\n}',	1612795513,	0),
('/conf.d/99-cloud-frontend-upstreams.conf',	1,	'upstream 80.dev_php.cloud_frontend.example {\n	server 172.21.0.2:80;\n}',	1612796792,	0),
('/conf.d/99-load-balancer-upstreams.conf',	1,	'',	1612785506,	1),
('/domains/cloud_os.local.conf',	1,	'server {\n	listen 80;\n	server_name cloud_os.local;\n	root /usr/share/nginx/default;\n	index index.html;\n	autoindex off;\n	location / {\n		proxy_pass http://80.dev_php.cloud_frontend.example/;\n		include proxy_params;\n		proxy_set_header X-ROUTE-PREFIX \"/\";\n	}\n\n}',	1612785543,	0),
('/inc/services_admin_page.inc',	1,	'location ~* /admin/services/cloud_os_rabbitmq/api/(.*?)/(.*) {\n        proxy_pass http://15672.cloud_os_rabbitmq.cloud_backend.example/api/$1/%2F/$2?$query_string;\n        include proxy_params;\n}\nlocation /admin/services/cloud_os_rabbitmq/ {\n        proxy_pass http://15672.cloud_os_rabbitmq.cloud_backend.example/;\n        include proxy_params;\n}',	1612795624,	0);

DROP TABLE IF EXISTS `roles`;
CREATE TABLE `roles` (
  `role_id` bigint(20) NOT NULL AUTO_INCREMENT,
  `space_id` bigint(20) NOT NULL,
  `role_name` varchar(255) COLLATE utf8mb4_unicode_ci NOT NULL,
  PRIMARY KEY (`role_id`),
  KEY `space_id` (`space_id`),
  CONSTRAINT `roles_ibfk_1` FOREIGN KEY (`space_id`) REFERENCES `spaces` (`space_id`) ON DELETE CASCADE ON UPDATE CASCADE
) ENGINE=InnoDB DEFAULT CHARSET=utf8mb4 COLLATE=utf8mb4_unicode_ci;


DROP TABLE IF EXISTS `routes`;
CREATE TABLE `routes` (
  `id` bigint(20) NOT NULL AUTO_INCREMENT,
  `enable` tinyint(4) NOT NULL,
  `protocol` varchar(255) COLLATE utf8mb4_unicode_ci NOT NULL,
  `domain_name` varchar(255) COLLATE utf8mb4_unicode_ci NOT NULL,
  `route` varchar(255) COLLATE utf8mb4_unicode_ci NOT NULL,
  `docker_name` varchar(255) COLLATE utf8mb4_unicode_ci NOT NULL,
  `target_port` int(11) NOT NULL,
  `route_prefix` varchar(255) COLLATE utf8mb4_unicode_ci NOT NULL,
  `layer_uid` varchar(255) COLLATE utf8mb4_unicode_ci NOT NULL,
  PRIMARY KEY (`id`),
  KEY `domain_name` (`domain_name`),
  CONSTRAINT `routes_ibfk_1` FOREIGN KEY (`domain_name`) REFERENCES `domains` (`domain_name`) ON DELETE CASCADE ON UPDATE CASCADE
) ENGINE=InnoDB DEFAULT CHARSET=utf8mb4 COLLATE=utf8mb4_unicode_ci;

INSERT INTO `routes` (`id`, `enable`, `protocol`, `domain_name`, `route`, `docker_name`, `target_port`, `route_prefix`, `layer_uid`) VALUES
(1,	1,	'http',	'cloud_os.local',	'/',	'dev_php',	80,	'/',	'');

DROP TABLE IF EXISTS `services`;
CREATE TABLE `services` (
  `service_id` bigint(20) NOT NULL AUTO_INCREMENT,
  `stack_name` varchar(255) COLLATE utf8mb4_unicode_ci NOT NULL,
  `service_name` varchar(255) COLLATE utf8mb4_unicode_ci NOT NULL,
  `software_api_name` varchar(255) COLLATE utf8mb4_unicode_ci NOT NULL,
  `have_admin_page` tinyint(4) NOT NULL,
  `admin_port` int(11) NOT NULL,
  `admin_route` varchar(255) COLLATE utf8mb4_unicode_ci NOT NULL,
  `admin_custom_nginx` longtext COLLATE utf8mb4_unicode_ci NOT NULL,
  `enable` tinyint(4) NOT NULL,
  `is_deleted` tinyint(4) NOT NULL,
  `data` longtext CHARACTER SET utf8mb4 COLLATE utf8mb4_bin DEFAULT NULL CHECK (json_valid(`data`)),
  `docker_name` varchar(255) COLLATE utf8mb4_unicode_ci NOT NULL,
  `docker_image` varchar(255) COLLATE utf8mb4_unicode_ci NOT NULL,
  `docker_content` longtext COLLATE utf8mb4_unicode_ci NOT NULL,
  `docker_json` longtext CHARACTER SET utf8mb4 COLLATE utf8mb4_bin DEFAULT NULL CHECK (json_valid(`docker_json`)),
  `docker_tasks` longtext CHARACTER SET utf8mb4 COLLATE utf8mb4_bin DEFAULT NULL CHECK (json_valid(`docker_tasks`)),
  `docker_balancer` longtext CHARACTER SET utf8mb4 COLLATE utf8mb4_bin DEFAULT NULL CHECK (json_valid(`docker_balancer`)),
  `timestamp` bigint(20) NOT NULL,
  PRIMARY KEY (`service_id`),
  UNIQUE KEY `stack_name_service_name` (`stack_name`,`service_name`),
  UNIQUE KEY `docker_name` (`docker_name`)
) ENGINE=InnoDB DEFAULT CHARSET=utf8mb4 COLLATE=utf8mb4_unicode_ci;

INSERT INTO `services` (`service_id`, `stack_name`, `service_name`, `software_api_name`, `have_admin_page`, `admin_port`, `admin_route`, `admin_custom_nginx`, `enable`, `is_deleted`, `data`, `docker_name`, `docker_image`, `docker_content`, `docker_json`, `docker_tasks`, `docker_balancer`, `timestamp`) VALUES
(1,	'database',	'mysql_node1',	'',	0,	0,	'',	'',	1,	0,	NULL,	'database_mysql_node1',	'bayrell/alpine_mariadb:10.4',	'',	'{\"ID\":\"aldy6e5jb49hgxmauf0sptqjj\",\"Version\":{\"Index\":2638},\"CreatedAt\":\"2021-02-08T11:00:19.493355844Z\",\"UpdatedAt\":\"2021-02-08T11:00:19.493355844Z\",\"Spec\":{\"Name\":\"database_mysql_node1\",\"Labels\":{\"com.docker.stack.image\":\"bayrell\\/alpine_mariadb:10.4\",\"com.docker.stack.namespace\":\"database\"},\"TaskTemplate\":{\"ContainerSpec\":{\"Image\":\"bayrell\\/alpine_mariadb:10.4\",\"Labels\":{\"com.docker.stack.namespace\":\"database\"},\"Args\":[\"--character-set-server=utf8mb4\",\"--collation-server=utf8mb4_unicode_ci\",\"--sql-mode=\",\"--ft_min_word_len=1\",\"--wait_timeout=600\",\"--max_allowed_packet=1G\"],\"Hostname\":\"{{.Service.Name}}.{{.Task.ID}}.local\",\"Env\":[\"AMQP_HOST=cloud_os_rabbitmq\",\"AMQP_PORT=5672\",\"CLOUD_BUS_GATEWAY=cloud_os_gateway\",\"CLOUD_KEY=RA5GXfvIMTbblRqOHXIavzGoHVtdG6L6nyfb6PjGrEp0z4T1iCpBBfrsEQ6Ex4mJH7jT6VP3UYlYezv0szUGT7J4JWx6hYz7uc6JjElcOfUWRKNOoQVKdBRebEBfFBdg\",\"DOCKER=1\",\"MYSQL_HOST=mysql1\",\"MYSQL_PASSWORD=bQ8z6dVOPs0rHK4h\",\"MYSQL_ROOT_PASSWORD=bQ8z6dVOPs0rHK4h\",\"MYSQL_ROOT_USERNAME=root\",\"MYSQL_USERNAME=root\",\"NODE_ID={{.Node.ID}}\",\"SERVICE_ID={{.Service.ID}}\",\"TASK_ID={{.Task.ID}}\"],\"Privileges\":{\"CredentialSpec\":null,\"SELinuxContext\":null},\"Mounts\":[{\"Type\":\"volume\",\"Source\":\"database_mysql_node1_data\",\"Target\":\"\\/data\",\"VolumeOptions\":{\"Labels\":{\"com.docker.stack.namespace\":\"database\"}}}],\"Isolation\":\"default\"},\"Resources\":[],\"RestartPolicy\":{\"Condition\":\"on-failure\",\"Delay\":10000000000,\"MaxAttempts\":0,\"Window\":120000000000},\"Placement\":{\"Constraints\":[\"node.labels.name == docker0\"]},\"Networks\":[{\"Target\":\"xq00ze33iythc8paolgryk2na\",\"Aliases\":[\"mysql_node1\"]}],\"LogDriver\":{\"Name\":\"journald\"},\"ForceUpdate\":0,\"Runtime\":\"container\"},\"Mode\":{\"Replicated\":{\"Replicas\":1}},\"UpdateConfig\":{\"Parallelism\":1,\"Delay\":5000000000,\"FailureAction\":\"rollback\",\"MaxFailureRatio\":0,\"Order\":\"stop-first\"},\"EndpointSpec\":{\"Mode\":\"dnsrr\"}},\"Endpoint\":{\"Spec\":[]}}',	'[{\"ID\":\"p8xhlkhlbb4acsw5l8inrk5nr\",\"Version\":{\"Index\":2653},\"CreatedAt\":\"2021-02-08T11:00:19.531376174Z\",\"UpdatedAt\":\"2021-02-08T11:00:28.185311738Z\",\"Labels\":{},\"Spec\":{\"ContainerSpec\":{\"Image\":\"bayrell/alpine_mariadb:10.4\",\"Labels\":{\"com.docker.stack.namespace\":\"database\"},\"Args\":[\"--character-set-server=utf8mb4\",\"--collation-server=utf8mb4_unicode_ci\",\"--sql-mode=\",\"--ft_min_word_len=1\",\"--wait_timeout=600\",\"--max_allowed_packet=1G\"],\"Hostname\":\"{{.Service.Name}}.{{.Task.ID}}.local\",\"Env\":[\"AMQP_HOST=cloud_os_rabbitmq\",\"AMQP_PORT=5672\",\"CLOUD_BUS_GATEWAY=cloud_os_gateway\",\"CLOUD_KEY=RA5GXfvIMTbblRqOHXIavzGoHVtdG6L6nyfb6PjGrEp0z4T1iCpBBfrsEQ6Ex4mJH7jT6VP3UYlYezv0szUGT7J4JWx6hYz7uc6JjElcOfUWRKNOoQVKdBRebEBfFBdg\",\"DOCKER=1\",\"MYSQL_HOST=mysql1\",\"MYSQL_PASSWORD=bQ8z6dVOPs0rHK4h\",\"MYSQL_ROOT_PASSWORD=bQ8z6dVOPs0rHK4h\",\"MYSQL_ROOT_USERNAME=root\",\"MYSQL_USERNAME=root\",\"NODE_ID={{.Node.ID}}\",\"SERVICE_ID={{.Service.ID}}\",\"TASK_ID={{.Task.ID}}\"],\"Privileges\":{\"CredentialSpec\":null,\"SELinuxContext\":null},\"Mounts\":[{\"Type\":\"volume\",\"Source\":\"database_mysql_node1_data\",\"Target\":\"/data\",\"VolumeOptions\":{\"Labels\":{\"com.docker.stack.namespace\":\"database\"}}}],\"Isolation\":\"default\"},\"Resources\":{},\"RestartPolicy\":{\"Condition\":\"on-failure\",\"Delay\":10000000000,\"MaxAttempts\":0,\"Window\":120000000000},\"Placement\":{\"Constraints\":[\"node.labels.name == docker0\"]},\"Networks\":[{\"Target\":\"xq00ze33iythc8paolgryk2na\",\"Aliases\":[\"mysql_node1\"]}],\"LogDriver\":{\"Name\":\"journald\"},\"ForceUpdate\":0},\"ServiceID\":\"aldy6e5jb49hgxmauf0sptqjj\",\"Slot\":1,\"NodeID\":\"vbtt40su1da4gn15rg3q2ic1r\",\"Status\":{\"Timestamp\":\"2021-02-08T11:00:28.148656332Z\",\"State\":\"running\",\"Message\":\"started\",\"ContainerStatus\":{\"ContainerID\":\"445195973a8e7ba96830ade23b9c9846aee1eeef41792b1267439db09b2068dd\",\"PID\":21027,\"ExitCode\":0},\"PortStatus\":{}},\"DesiredState\":\"running\",\"NetworksAttachments\":[{\"Network\":{\"ID\":\"xq00ze33iythc8paolgryk2na\",\"Version\":{\"Index\":2637},\"CreatedAt\":\"2021-02-08T10:58:48.873385548Z\",\"UpdatedAt\":\"2021-02-08T10:58:48.944880294Z\",\"Spec\":{\"Name\":\"cloud_backend\",\"Labels\":{},\"DriverConfiguration\":{\"Name\":\"overlay\",\"Options\":{\"com.docker.network.bridge.name\":\"cloud_backend\"}},\"Attachable\":true,\"IPAMOptions\":{\"Driver\":{\"Name\":\"default\"},\"Configs\":[{\"Subnet\":\"172.22.0.1/16\",\"Gateway\":\"172.22.0.1\"}]},\"Scope\":\"swarm\"},\"DriverState\":{\"Name\":\"overlay\",\"Options\":{\"com.docker.network.bridge.name\":\"cloud_backend\",\"com.docker.network.driver.overlay.vxlanid_list\":\"4098\"}},\"IPAMOptions\":{\"Driver\":{\"Name\":\"default\"},\"Configs\":[{\"Subnet\":\"172.22.0.1/16\",\"Gateway\":\"172.22.0.1\"}]}},\"Addresses\":[\"172.22.0.2/16\"]}]}]\n',	'{\"State\":{\"Work\":1,\"Total\":1},\"Tasks\":[{\"ID\":\"p8xhlkhlbb4acsw5l8inrk5nr\",\"Status\":{\"Timestamp\":\"2021-02-08T11:00:28.148656332Z\",\"State\":\"running\",\"Message\":\"started\",\"ContainerStatus\":{\"ContainerID\":\"445195973a8e7ba96830ade23b9c9846aee1eeef41792b1267439db09b2068dd\",\"PID\":21027,\"ExitCode\":0},\"PortStatus\":[]},\"DesiredState\":\"running\",\"Slot\":1,\"Node\":{\"ID\":\"vbtt40su1da4gn15rg3q2ic1r\",\"Hostname\":\"docker0\",\"Status\":{\"State\":\"ready\",\"Addr\":\"172.30.0.20\"}},\"Networks\":[{\"ID\":\"xq00ze33iythc8paolgryk2na\",\"Name\":\"cloud_backend\",\"Addresses\":[\"172.22.0.2\\/16\"]}]}]}',	1612796792),
(2,	'cloud_os',	'standard',	'',	0,	0,	'',	'',	1,	0,	NULL,	'cloud_os_standard',	'bayrell/cloud_os_standard:0.3.0',	'',	'{\"ID\":\"mr5gtzrsos50h7cybcq43mc1a\",\"Version\":{\"Index\":2779},\"CreatedAt\":\"2021-02-08T11:00:24.543455849Z\",\"UpdatedAt\":\"2021-02-08T11:13:37.355001819Z\",\"Spec\":{\"Name\":\"cloud_os_standard\",\"Labels\":{\"com.docker.stack.image\":\"bayrell\\/cloud_os_standard:0.3.0\",\"com.docker.stack.namespace\":\"cloud_os\"},\"TaskTemplate\":{\"ContainerSpec\":{\"Image\":\"bayrell\\/cloud_os_standard:0.3.0\",\"Labels\":{\"com.docker.stack.namespace\":\"cloud_os\"},\"Hostname\":\"{{.Service.Name}}.{{.Task.ID}}.local\",\"Env\":[\"AMQP_HOST=cloud_os_rabbitmq\",\"AMQP_PORT=5672\",\"CLOUD_BUS_GATEWAY=cloud_os_gateway\",\"CLOUD_KEY=RA5GXfvIMTbblRqOHXIavzGoHVtdG6L6nyfb6PjGrEp0z4T1iCpBBfrsEQ6Ex4mJH7jT6VP3UYlYezv0szUGT7J4JWx6hYz7uc6JjElcOfUWRKNOoQVKdBRebEBfFBdg\",\"DOCKER=1\",\"MYSQL_DB=cloud_os_standard\",\"MYSQL_HOST=database_mysql_node1\",\"MYSQL_PASSWORD=bQ8z6dVOPs0rHK4h\",\"MYSQL_ROOT_PASSWORD=bQ8z6dVOPs0rHK4h\",\"MYSQL_ROOT_USERNAME=root\",\"MYSQL_USERNAME=root\",\"NODE_ID={{.Node.ID}}\",\"SERVICE_ID={{.Service.ID}}\",\"TASK_ID={{.Task.ID}}\"],\"Privileges\":{\"CredentialSpec\":null,\"SELinuxContext\":null},\"Mounts\":[{\"Type\":\"volume\",\"Source\":\"cloud_os_standard_data\",\"Target\":\"\\/data\",\"VolumeOptions\":{\"Labels\":{\"com.docker.stack.namespace\":\"cloud_os\"}}},{\"Type\":\"bind\",\"Source\":\"\\/var\\/run\\/docker.sock\",\"Target\":\"\\/var\\/run\\/docker.sock\",\"ReadOnly\":true},{\"Type\":\"bind\",\"Source\":\"\\/home\\/ubuntu\\/cloud_os_standard\\/src\",\"Target\":\"\\/var\\/www\"}],\"Isolation\":\"default\"},\"Resources\":[],\"RestartPolicy\":{\"Condition\":\"on-failure\",\"Delay\":10000000000,\"MaxAttempts\":0,\"Window\":120000000000},\"Placement\":{\"Constraints\":[\"node.labels.name == docker0\"]},\"Networks\":[{\"Target\":\"xq00ze33iythc8paolgryk2na\",\"Aliases\":[\"standard\"]}],\"LogDriver\":{\"Name\":\"journald\"},\"ForceUpdate\":0,\"Runtime\":\"container\"},\"Mode\":{\"Replicated\":{\"Replicas\":1}},\"UpdateConfig\":{\"Parallelism\":1,\"Delay\":5000000000,\"FailureAction\":\"rollback\",\"MaxFailureRatio\":0,\"Order\":\"stop-first\"},\"EndpointSpec\":{\"Mode\":\"dnsrr\",\"Ports\":[{\"Protocol\":\"tcp\",\"TargetPort\":22,\"PublishedPort\":8022,\"PublishMode\":\"host\"},{\"Protocol\":\"tcp\",\"TargetPort\":80,\"PublishedPort\":8080,\"PublishMode\":\"host\"}]}},\"PreviousSpec\":{\"Name\":\"cloud_os_standard\",\"Labels\":{\"com.docker.stack.image\":\"bayrell\\/cloud_os_standard:0.3.0\",\"com.docker.stack.namespace\":\"cloud_os\"},\"TaskTemplate\":{\"ContainerSpec\":{\"Image\":\"bayrell\\/cloud_os_standard:0.3.0\",\"Labels\":{\"com.docker.stack.namespace\":\"cloud_os\"},\"Hostname\":\"{{.Service.Name}}.{{.Task.ID}}.local\",\"Env\":[\"AMQP_HOST=cloud_os_rabbitmq\",\"AMQP_PORT=5672\",\"CLOUD_BUS_GATEWAY=cloud_os_gateway\",\"CLOUD_KEY=RA5GXfvIMTbblRqOHXIavzGoHVtdG6L6nyfb6PjGrEp0z4T1iCpBBfrsEQ6Ex4mJH7jT6VP3UYlYezv0szUGT7J4JWx6hYz7uc6JjElcOfUWRKNOoQVKdBRebEBfFBdg\",\"DOCKER=1\",\"MYSQL_DB=cloud_os_standard\",\"MYSQL_HOST=mysql1\",\"MYSQL_PASSWORD=bQ8z6dVOPs0rHK4h\",\"MYSQL_ROOT_PASSWORD=bQ8z6dVOPs0rHK4h\",\"MYSQL_ROOT_USERNAME=root\",\"MYSQL_USERNAME=root\",\"NODE_ID={{.Node.ID}}\",\"SERVICE_ID={{.Service.ID}}\",\"TASK_ID={{.Task.ID}}\"],\"Privileges\":{\"CredentialSpec\":null,\"SELinuxContext\":null},\"Mounts\":[{\"Type\":\"volume\",\"Source\":\"cloud_os_standard_data\",\"Target\":\"\\/data\",\"VolumeOptions\":{\"Labels\":{\"com.docker.stack.namespace\":\"cloud_os\"}}},{\"Type\":\"bind\",\"Source\":\"\\/var\\/run\\/docker.sock\",\"Target\":\"\\/var\\/run\\/docker.sock\",\"ReadOnly\":true},{\"Type\":\"bind\",\"Source\":\"\\/home\\/ubuntu\\/cloud_os_standard\\/src\",\"Target\":\"\\/var\\/www\"}],\"Isolation\":\"default\"},\"Resources\":[],\"RestartPolicy\":{\"Condition\":\"on-failure\",\"Delay\":10000000000,\"MaxAttempts\":0,\"Window\":120000000000},\"Placement\":{\"Constraints\":[\"node.labels.name == docker0\"]},\"Networks\":[{\"Target\":\"xq00ze33iythc8paolgryk2na\",\"Aliases\":[\"standard\"]}],\"LogDriver\":{\"Name\":\"journald\"},\"ForceUpdate\":0,\"Runtime\":\"container\"},\"Mode\":{\"Replicated\":{\"Replicas\":1}},\"UpdateConfig\":{\"Parallelism\":1,\"Delay\":5000000000,\"FailureAction\":\"rollback\",\"MaxFailureRatio\":0,\"Order\":\"stop-first\"},\"EndpointSpec\":{\"Mode\":\"dnsrr\",\"Ports\":[{\"Protocol\":\"tcp\",\"TargetPort\":22,\"PublishedPort\":8022,\"PublishMode\":\"host\"},{\"Protocol\":\"tcp\",\"TargetPort\":80,\"PublishedPort\":8080,\"PublishMode\":\"host\"}]}},\"Endpoint\":{\"Spec\":{\"Mode\":\"dnsrr\",\"Ports\":[{\"Protocol\":\"tcp\",\"TargetPort\":22,\"PublishedPort\":8022,\"PublishMode\":\"host\"},{\"Protocol\":\"tcp\",\"TargetPort\":80,\"PublishedPort\":8080,\"PublishMode\":\"host\"}]},\"Ports\":[{\"Protocol\":\"tcp\",\"TargetPort\":22,\"PublishedPort\":8022,\"PublishMode\":\"host\"},{\"Protocol\":\"tcp\",\"TargetPort\":80,\"PublishedPort\":8080,\"PublishMode\":\"host\"}]},\"UpdateStatus\":{\"State\":\"completed\",\"StartedAt\":\"2021-02-08T11:13:05.421863265Z\",\"CompletedAt\":\"2021-02-08T11:13:37.354964965Z\",\"Message\":\"update completed\"}}',	'[{\"ID\":\"dextx2th994nq1s4g7nqhtpkc\",\"Version\":{\"Index\":2778},\"CreatedAt\":\"2021-02-08T11:13:05.522135685Z\",\"UpdatedAt\":\"2021-02-08T11:13:27.288967484Z\",\"Labels\":{},\"Spec\":{\"ContainerSpec\":{\"Image\":\"bayrell/cloud_os_standard:0.3.0\",\"Labels\":{\"com.docker.stack.namespace\":\"cloud_os\"},\"Hostname\":\"{{.Service.Name}}.{{.Task.ID}}.local\",\"Env\":[\"AMQP_HOST=cloud_os_rabbitmq\",\"AMQP_PORT=5672\",\"CLOUD_BUS_GATEWAY=cloud_os_gateway\",\"CLOUD_KEY=RA5GXfvIMTbblRqOHXIavzGoHVtdG6L6nyfb6PjGrEp0z4T1iCpBBfrsEQ6Ex4mJH7jT6VP3UYlYezv0szUGT7J4JWx6hYz7uc6JjElcOfUWRKNOoQVKdBRebEBfFBdg\",\"DOCKER=1\",\"MYSQL_DB=cloud_os_standard\",\"MYSQL_HOST=database_mysql_node1\",\"MYSQL_PASSWORD=bQ8z6dVOPs0rHK4h\",\"MYSQL_ROOT_PASSWORD=bQ8z6dVOPs0rHK4h\",\"MYSQL_ROOT_USERNAME=root\",\"MYSQL_USERNAME=root\",\"NODE_ID={{.Node.ID}}\",\"SERVICE_ID={{.Service.ID}}\",\"TASK_ID={{.Task.ID}}\"],\"Privileges\":{\"CredentialSpec\":null,\"SELinuxContext\":null},\"Mounts\":[{\"Type\":\"volume\",\"Source\":\"cloud_os_standard_data\",\"Target\":\"/data\",\"VolumeOptions\":{\"Labels\":{\"com.docker.stack.namespace\":\"cloud_os\"}}},{\"Type\":\"bind\",\"Source\":\"/var/run/docker.sock\",\"Target\":\"/var/run/docker.sock\",\"ReadOnly\":true},{\"Type\":\"bind\",\"Source\":\"/home/ubuntu/cloud_os_standard/src\",\"Target\":\"/var/www\"}],\"Isolation\":\"default\"},\"Resources\":{},\"RestartPolicy\":{\"Condition\":\"on-failure\",\"Delay\":10000000000,\"MaxAttempts\":0,\"Window\":120000000000},\"Placement\":{\"Constraints\":[\"node.labels.name == docker0\"]},\"Networks\":[{\"Target\":\"xq00ze33iythc8paolgryk2na\",\"Aliases\":[\"standard\"]}],\"LogDriver\":{\"Name\":\"journald\"},\"ForceUpdate\":0},\"ServiceID\":\"mr5gtzrsos50h7cybcq43mc1a\",\"Slot\":1,\"NodeID\":\"vbtt40su1da4gn15rg3q2ic1r\",\"Status\":{\"Timestamp\":\"2021-02-08T11:13:27.254503042Z\",\"State\":\"running\",\"Message\":\"started\",\"ContainerStatus\":{\"ContainerID\":\"19b1f5e39b459fdc6c3c4cf5ff47f96592d2c4d476a71cae42aa2aac0a5d8520\",\"PID\":22488,\"ExitCode\":0},\"PortStatus\":{\"Ports\":[{\"Protocol\":\"tcp\",\"TargetPort\":80,\"PublishedPort\":8080,\"PublishMode\":\"host\"},{\"Protocol\":\"tcp\",\"TargetPort\":22,\"PublishedPort\":8022,\"PublishMode\":\"host\"}]}},\"DesiredState\":\"running\",\"NetworksAttachments\":[{\"Network\":{\"ID\":\"xq00ze33iythc8paolgryk2na\",\"Version\":{\"Index\":2637},\"CreatedAt\":\"2021-02-08T10:58:48.873385548Z\",\"UpdatedAt\":\"2021-02-08T10:58:48.944880294Z\",\"Spec\":{\"Name\":\"cloud_backend\",\"Labels\":{},\"DriverConfiguration\":{\"Name\":\"overlay\",\"Options\":{\"com.docker.network.bridge.name\":\"cloud_backend\"}},\"Attachable\":true,\"IPAMOptions\":{\"Driver\":{\"Name\":\"default\"},\"Configs\":[{\"Subnet\":\"172.22.0.1/16\",\"Gateway\":\"172.22.0.1\"}]},\"Scope\":\"swarm\"},\"DriverState\":{\"Name\":\"overlay\",\"Options\":{\"com.docker.network.bridge.name\":\"cloud_backend\",\"com.docker.network.driver.overlay.vxlanid_list\":\"4098\"}},\"IPAMOptions\":{\"Driver\":{\"Name\":\"default\"},\"Configs\":[{\"Subnet\":\"172.22.0.1/16\",\"Gateway\":\"172.22.0.1\"}]}},\"Addresses\":[\"172.22.0.17/16\"]}]},{\"ID\":\"tomxkzu91u2246p8rxzsousgt\",\"Version\":{\"Index\":2757},\"CreatedAt\":\"2021-02-08T11:02:09.421175559Z\",\"UpdatedAt\":\"2021-02-08T11:02:19.910557565Z\",\"Labels\":{},\"Spec\":{\"ContainerSpec\":{\"Image\":\"bayrell/cloud_os_standard:0.3.0\",\"Labels\":{\"com.docker.stack.namespace\":\"cloud_os\"},\"Hostname\":\"{{.Service.Name}}.{{.Task.ID}}.local\",\"Env\":[\"AMQP_HOST=cloud_os_rabbitmq\",\"AMQP_PORT=5672\",\"CLOUD_BUS_GATEWAY=cloud_os_gateway\",\"CLOUD_KEY=RA5GXfvIMTbblRqOHXIavzGoHVtdG6L6nyfb6PjGrEp0z4T1iCpBBfrsEQ6Ex4mJH7jT6VP3UYlYezv0szUGT7J4JWx6hYz7uc6JjElcOfUWRKNOoQVKdBRebEBfFBdg\",\"DOCKER=1\",\"MYSQL_DB=cloud_os_standard\",\"MYSQL_HOST=mysql1\",\"MYSQL_PASSWORD=bQ8z6dVOPs0rHK4h\",\"MYSQL_ROOT_PASSWORD=bQ8z6dVOPs0rHK4h\",\"MYSQL_ROOT_USERNAME=root\",\"MYSQL_USERNAME=root\",\"NODE_ID={{.Node.ID}}\",\"SERVICE_ID={{.Service.ID}}\",\"TASK_ID={{.Task.ID}}\"],\"Privileges\":{\"CredentialSpec\":null,\"SELinuxContext\":null},\"Mounts\":[{\"Type\":\"volume\",\"Source\":\"cloud_os_standard_data\",\"Target\":\"/data\",\"VolumeOptions\":{\"Labels\":{\"com.docker.stack.namespace\":\"cloud_os\"}}},{\"Type\":\"bind\",\"Source\":\"/var/run/docker.sock\",\"Target\":\"/var/run/docker.sock\",\"ReadOnly\":true},{\"Type\":\"bind\",\"Source\":\"/home/ubuntu/cloud_os_standard/src\",\"Target\":\"/var/www\"}],\"Isolation\":\"default\"},\"Resources\":{},\"RestartPolicy\":{\"Condition\":\"on-failure\",\"Delay\":10000000000,\"MaxAttempts\":0,\"Window\":120000000000},\"Placement\":{\"Constraints\":[\"node.labels.name == docker0\"]},\"Networks\":[{\"Target\":\"xq00ze33iythc8paolgryk2na\",\"Aliases\":[\"standard\"]}],\"LogDriver\":{\"Name\":\"journald\"},\"ForceUpdate\":0},\"ServiceID\":\"mr5gtzrsos50h7cybcq43mc1a\",\"Slot\":1,\"NodeID\":\"vbtt40su1da4gn15rg3q2ic1r\",\"Status\":{\"Timestamp\":\"2021-02-08T11:02:12.793058614Z\",\"State\":\"rejected\",\"Message\":\"preparing\",\"Err\":\"No such image: bayrell/cloud_os_standard:0.3.0\",\"ContainerStatus\":{\"ContainerID\":\"\",\"PID\":0,\"ExitCode\":0},\"PortStatus\":{}},\"DesiredState\":\"shutdown\",\"NetworksAttachments\":[{\"Network\":{\"ID\":\"xq00ze33iythc8paolgryk2na\",\"Version\":{\"Index\":2637},\"CreatedAt\":\"2021-02-08T10:58:48.873385548Z\",\"UpdatedAt\":\"2021-02-08T10:58:48.944880294Z\",\"Spec\":{\"Name\":\"cloud_backend\",\"Labels\":{},\"DriverConfiguration\":{\"Name\":\"overlay\",\"Options\":{\"com.docker.network.bridge.name\":\"cloud_backend\"}},\"Attachable\":true,\"IPAMOptions\":{\"Driver\":{\"Name\":\"default\"},\"Configs\":[{\"Subnet\":\"172.22.0.1/16\",\"Gateway\":\"172.22.0.1\"}]},\"Scope\":\"swarm\"},\"DriverState\":{\"Name\":\"overlay\",\"Options\":{\"com.docker.network.bridge.name\":\"cloud_backend\",\"com.docker.network.driver.overlay.vxlanid_list\":\"4098\"}},\"IPAMOptions\":{\"Driver\":{\"Name\":\"default\"},\"Configs\":[{\"Subnet\":\"172.22.0.1/16\",\"Gateway\":\"172.22.0.1\"}]}},\"Addresses\":[\"172.22.0.15/16\"]}]},{\"ID\":\"upxgjk7vmwbpx496be7i7qr6n\",\"Version\":{\"Index\":2747},\"CreatedAt\":\"2021-02-08T11:01:59.390718924Z\",\"UpdatedAt\":\"2021-02-08T11:02:09.661050293Z\",\"Labels\":{},\"Spec\":{\"ContainerSpec\":{\"Image\":\"bayrell/cloud_os_standard:0.3.0\",\"Labels\":{\"com.docker.stack.namespace\":\"cloud_os\"},\"Hostname\":\"{{.Service.Name}}.{{.Task.ID}}.local\",\"Env\":[\"AMQP_HOST=cloud_os_rabbitmq\",\"AMQP_PORT=5672\",\"CLOUD_BUS_GATEWAY=cloud_os_gateway\",\"CLOUD_KEY=RA5GXfvIMTbblRqOHXIavzGoHVtdG6L6nyfb6PjGrEp0z4T1iCpBBfrsEQ6Ex4mJH7jT6VP3UYlYezv0szUGT7J4JWx6hYz7uc6JjElcOfUWRKNOoQVKdBRebEBfFBdg\",\"DOCKER=1\",\"MYSQL_DB=cloud_os_standard\",\"MYSQL_HOST=mysql1\",\"MYSQL_PASSWORD=bQ8z6dVOPs0rHK4h\",\"MYSQL_ROOT_PASSWORD=bQ8z6dVOPs0rHK4h\",\"MYSQL_ROOT_USERNAME=root\",\"MYSQL_USERNAME=root\",\"NODE_ID={{.Node.ID}}\",\"SERVICE_ID={{.Service.ID}}\",\"TASK_ID={{.Task.ID}}\"],\"Privileges\":{\"CredentialSpec\":null,\"SELinuxContext\":null},\"Mounts\":[{\"Type\":\"volume\",\"Source\":\"cloud_os_standard_data\",\"Target\":\"/data\",\"VolumeOptions\":{\"Labels\":{\"com.docker.stack.namespace\":\"cloud_os\"}}},{\"Type\":\"bind\",\"Source\":\"/var/run/docker.sock\",\"Target\":\"/var/run/docker.sock\",\"ReadOnly\":true},{\"Type\":\"bind\",\"Source\":\"/home/ubuntu/cloud_os_standard/src\",\"Target\":\"/var/www\"}],\"Isolation\":\"default\"},\"Resources\":{},\"RestartPolicy\":{\"Condition\":\"on-failure\",\"Delay\":10000000000,\"MaxAttempts\":0,\"Window\":120000000000},\"Placement\":{\"Constraints\":[\"node.labels.name == docker0\"]},\"Networks\":[{\"Target\":\"xq00ze33iythc8paolgryk2na\",\"Aliases\":[\"standard\"]}],\"LogDriver\":{\"Name\":\"journald\"},\"ForceUpdate\":0},\"ServiceID\":\"mr5gtzrsos50h7cybcq43mc1a\",\"Slot\":1,\"NodeID\":\"vbtt40su1da4gn15rg3q2ic1r\",\"Status\":{\"Timestamp\":\"2021-02-08T11:02:03.112664277Z\",\"State\":\"rejected\",\"Message\":\"preparing\",\"Err\":\"No such image: bayrell/cloud_os_standard:0.3.0\",\"ContainerStatus\":{\"ContainerID\":\"\",\"PID\":0,\"ExitCode\":0},\"PortStatus\":{}},\"DesiredState\":\"shutdown\",\"NetworksAttachments\":[{\"Network\":{\"ID\":\"xq00ze33iythc8paolgryk2na\",\"Version\":{\"Index\":2637},\"CreatedAt\":\"2021-02-08T10:58:48.873385548Z\",\"UpdatedAt\":\"2021-02-08T10:58:48.944880294Z\",\"Spec\":{\"Name\":\"cloud_backend\",\"Labels\":{},\"DriverConfiguration\":{\"Name\":\"overlay\",\"Options\":{\"com.docker.network.bridge.name\":\"cloud_backend\"}},\"Attachable\":true,\"IPAMOptions\":{\"Driver\":{\"Name\":\"default\"},\"Configs\":[{\"Subnet\":\"172.22.0.1/16\",\"Gateway\":\"172.22.0.1\"}]},\"Scope\":\"swarm\"},\"DriverState\":{\"Name\":\"overlay\",\"Options\":{\"com.docker.network.bridge.name\":\"cloud_backend\",\"com.docker.network.driver.overlay.vxlanid_list\":\"4098\"}},\"IPAMOptions\":{\"Driver\":{\"Name\":\"default\"},\"Configs\":[{\"Subnet\":\"172.22.0.1/16\",\"Gateway\":\"172.22.0.1\"}]}},\"Addresses\":[\"172.22.0.14/16\"]}]},{\"ID\":\"wbkkpf54n7seb6ah006joqv9d\",\"Version\":{\"Index\":2771},\"CreatedAt\":\"2021-02-08T11:02:19.505994581Z\",\"UpdatedAt\":\"2021-02-08T11:13:21.274231228Z\",\"Labels\":{},\"Spec\":{\"ContainerSpec\":{\"Image\":\"bayrell/cloud_os_standard:0.3.0\",\"Labels\":{\"com.docker.stack.namespace\":\"cloud_os\"},\"Hostname\":\"{{.Service.Name}}.{{.Task.ID}}.local\",\"Env\":[\"AMQP_HOST=cloud_os_rabbitmq\",\"AMQP_PORT=5672\",\"CLOUD_BUS_GATEWAY=cloud_os_gateway\",\"CLOUD_KEY=RA5GXfvIMTbblRqOHXIavzGoHVtdG6L6nyfb6PjGrEp0z4T1iCpBBfrsEQ6Ex4mJH7jT6VP3UYlYezv0szUGT7J4JWx6hYz7uc6JjElcOfUWRKNOoQVKdBRebEBfFBdg\",\"DOCKER=1\",\"MYSQL_DB=cloud_os_standard\",\"MYSQL_HOST=mysql1\",\"MYSQL_PASSWORD=bQ8z6dVOPs0rHK4h\",\"MYSQL_ROOT_PASSWORD=bQ8z6dVOPs0rHK4h\",\"MYSQL_ROOT_USERNAME=root\",\"MYSQL_USERNAME=root\",\"NODE_ID={{.Node.ID}}\",\"SERVICE_ID={{.Service.ID}}\",\"TASK_ID={{.Task.ID}}\"],\"Privileges\":{\"CredentialSpec\":null,\"SELinuxContext\":null},\"Mounts\":[{\"Type\":\"volume\",\"Source\":\"cloud_os_standard_data\",\"Target\":\"/data\",\"VolumeOptions\":{\"Labels\":{\"com.docker.stack.namespace\":\"cloud_os\"}}},{\"Type\":\"bind\",\"Source\":\"/var/run/docker.sock\",\"Target\":\"/var/run/docker.sock\",\"ReadOnly\":true},{\"Type\":\"bind\",\"Source\":\"/home/ubuntu/cloud_os_standard/src\",\"Target\":\"/var/www\"}],\"Isolation\":\"default\"},\"Resources\":{},\"RestartPolicy\":{\"Condition\":\"on-failure\",\"Delay\":10000000000,\"MaxAttempts\":0,\"Window\":120000000000},\"Placement\":{\"Constraints\":[\"node.labels.name == docker0\"]},\"Networks\":[{\"Target\":\"xq00ze33iythc8paolgryk2na\",\"Aliases\":[\"standard\"]}],\"LogDriver\":{\"Name\":\"journald\"},\"ForceUpdate\":0},\"ServiceID\":\"mr5gtzrsos50h7cybcq43mc1a\",\"Slot\":1,\"NodeID\":\"vbtt40su1da4gn15rg3q2ic1r\",\"Status\":{\"Timestamp\":\"2021-02-08T11:13:21.196118598Z\",\"State\":\"shutdown\",\"Message\":\"shutdown\",\"ContainerStatus\":{\"ContainerID\":\"86c899c9f1b2027dadeb680e48d130290b284b4ea293f5766aac3fd31b4f8262\",\"PID\":0,\"ExitCode\":137},\"PortStatus\":{}},\"DesiredState\":\"shutdown\",\"NetworksAttachments\":[{\"Network\":{\"ID\":\"xq00ze33iythc8paolgryk2na\",\"Version\":{\"Index\":2637},\"CreatedAt\":\"2021-02-08T10:58:48.873385548Z\",\"UpdatedAt\":\"2021-02-08T10:58:48.944880294Z\",\"Spec\":{\"Name\":\"cloud_backend\",\"Labels\":{},\"DriverConfiguration\":{\"Name\":\"overlay\",\"Options\":{\"com.docker.network.bridge.name\":\"cloud_backend\"}},\"Attachable\":true,\"IPAMOptions\":{\"Driver\":{\"Name\":\"default\"},\"Configs\":[{\"Subnet\":\"172.22.0.1/16\",\"Gateway\":\"172.22.0.1\"}]},\"Scope\":\"swarm\"},\"DriverState\":{\"Name\":\"overlay\",\"Options\":{\"com.docker.network.bridge.name\":\"cloud_backend\",\"com.docker.network.driver.overlay.vxlanid_list\":\"4098\"}},\"IPAMOptions\":{\"Driver\":{\"Name\":\"default\"},\"Configs\":[{\"Subnet\":\"172.22.0.1/16\",\"Gateway\":\"172.22.0.1\"}]}},\"Addresses\":[\"172.22.0.16/16\"]}]},{\"ID\":\"yorjjpmf1wuholmu8uxa8z0yd\",\"Version\":{\"Index\":2740},\"CreatedAt\":\"2021-02-08T11:01:49.370144954Z\",\"UpdatedAt\":\"2021-02-08T11:02:00.000108991Z\",\"Labels\":{},\"Spec\":{\"ContainerSpec\":{\"Image\":\"bayrell/cloud_os_standard:0.3.0\",\"Labels\":{\"com.docker.stack.namespace\":\"cloud_os\"},\"Hostname\":\"{{.Service.Name}}.{{.Task.ID}}.local\",\"Env\":[\"AMQP_HOST=cloud_os_rabbitmq\",\"AMQP_PORT=5672\",\"CLOUD_BUS_GATEWAY=cloud_os_gateway\",\"CLOUD_KEY=RA5GXfvIMTbblRqOHXIavzGoHVtdG6L6nyfb6PjGrEp0z4T1iCpBBfrsEQ6Ex4mJH7jT6VP3UYlYezv0szUGT7J4JWx6hYz7uc6JjElcOfUWRKNOoQVKdBRebEBfFBdg\",\"DOCKER=1\",\"MYSQL_DB=cloud_os_standard\",\"MYSQL_HOST=mysql1\",\"MYSQL_PASSWORD=bQ8z6dVOPs0rHK4h\",\"MYSQL_ROOT_PASSWORD=bQ8z6dVOPs0rHK4h\",\"MYSQL_ROOT_USERNAME=root\",\"MYSQL_USERNAME=root\",\"NODE_ID={{.Node.ID}}\",\"SERVICE_ID={{.Service.ID}}\",\"TASK_ID={{.Task.ID}}\"],\"Privileges\":{\"CredentialSpec\":null,\"SELinuxContext\":null},\"Mounts\":[{\"Type\":\"volume\",\"Source\":\"cloud_os_standard_data\",\"Target\":\"/data\",\"VolumeOptions\":{\"Labels\":{\"com.docker.stack.namespace\":\"cloud_os\"}}},{\"Type\":\"bind\",\"Source\":\"/var/run/docker.sock\",\"Target\":\"/var/run/docker.sock\",\"ReadOnly\":true},{\"Type\":\"bind\",\"Source\":\"/home/ubuntu/cloud_os_standard/src\",\"Target\":\"/var/www\"}],\"Isolation\":\"default\"},\"Resources\":{},\"RestartPolicy\":{\"Condition\":\"on-failure\",\"Delay\":10000000000,\"MaxAttempts\":0,\"Window\":120000000000},\"Placement\":{\"Constraints\":[\"node.labels.name == docker0\"]},\"Networks\":[{\"Target\":\"xq00ze33iythc8paolgryk2na\",\"Aliases\":[\"standard\"]}],\"LogDriver\":{\"Name\":\"journald\"},\"ForceUpdate\":0},\"ServiceID\":\"mr5gtzrsos50h7cybcq43mc1a\",\"Slot\":1,\"NodeID\":\"vbtt40su1da4gn15rg3q2ic1r\",\"Status\":{\"Timestamp\":\"2021-02-08T11:01:52.739952227Z\",\"State\":\"rejected\",\"Message\":\"preparing\",\"Err\":\"No such image: bayrell/cloud_os_standard:0.3.0\",\"ContainerStatus\":{\"ContainerID\":\"\",\"PID\":0,\"ExitCode\":0},\"PortStatus\":{}},\"DesiredState\":\"shutdown\",\"NetworksAttachments\":[{\"Network\":{\"ID\":\"xq00ze33iythc8paolgryk2na\",\"Version\":{\"Index\":2637},\"CreatedAt\":\"2021-02-08T10:58:48.873385548Z\",\"UpdatedAt\":\"2021-02-08T10:58:48.944880294Z\",\"Spec\":{\"Name\":\"cloud_backend\",\"Labels\":{},\"DriverConfiguration\":{\"Name\":\"overlay\",\"Options\":{\"com.docker.network.bridge.name\":\"cloud_backend\"}},\"Attachable\":true,\"IPAMOptions\":{\"Driver\":{\"Name\":\"default\"},\"Configs\":[{\"Subnet\":\"172.22.0.1/16\",\"Gateway\":\"172.22.0.1\"}]},\"Scope\":\"swarm\"},\"DriverState\":{\"Name\":\"overlay\",\"Options\":{\"com.docker.network.bridge.name\":\"cloud_backend\",\"com.docker.network.driver.overlay.vxlanid_list\":\"4098\"}},\"IPAMOptions\":{\"Driver\":{\"Name\":\"default\"},\"Configs\":[{\"Subnet\":\"172.22.0.1/16\",\"Gateway\":\"172.22.0.1\"}]}},\"Addresses\":[\"172.22.0.13/16\"]}]}]\n',	'{\"State\":{\"Work\":1,\"Total\":1},\"Tasks\":[{\"ID\":\"dextx2th994nq1s4g7nqhtpkc\",\"Status\":{\"Timestamp\":\"2021-02-08T11:13:27.254503042Z\",\"State\":\"running\",\"Message\":\"started\",\"ContainerStatus\":{\"ContainerID\":\"19b1f5e39b459fdc6c3c4cf5ff47f96592d2c4d476a71cae42aa2aac0a5d8520\",\"PID\":22488,\"ExitCode\":0},\"PortStatus\":{\"Ports\":[{\"Protocol\":\"tcp\",\"TargetPort\":80,\"PublishedPort\":8080,\"PublishMode\":\"host\"},{\"Protocol\":\"tcp\",\"TargetPort\":22,\"PublishedPort\":8022,\"PublishMode\":\"host\"}]}},\"DesiredState\":\"running\",\"Slot\":1,\"Node\":{\"ID\":\"vbtt40su1da4gn15rg3q2ic1r\",\"Hostname\":\"docker0\",\"Status\":{\"State\":\"ready\",\"Addr\":\"172.30.0.20\"}},\"Networks\":[{\"ID\":\"xq00ze33iythc8paolgryk2na\",\"Name\":\"cloud_backend\",\"Addresses\":[\"172.22.0.17\\/16\"]}]},{\"ID\":\"tomxkzu91u2246p8rxzsousgt\",\"Status\":{\"Timestamp\":\"2021-02-08T11:02:12.793058614Z\",\"State\":\"rejected\",\"Message\":\"preparing\",\"Err\":\"No such image: bayrell\\/cloud_os_standard:0.3.0\",\"ContainerStatus\":{\"ContainerID\":\"\",\"PID\":0,\"ExitCode\":0},\"PortStatus\":[]},\"DesiredState\":\"shutdown\",\"Slot\":1,\"Node\":{\"ID\":\"vbtt40su1da4gn15rg3q2ic1r\",\"Hostname\":\"docker0\",\"Status\":{\"State\":\"ready\",\"Addr\":\"172.30.0.20\"}},\"Networks\":[{\"ID\":\"xq00ze33iythc8paolgryk2na\",\"Name\":\"cloud_backend\",\"Addresses\":[\"172.22.0.15\\/16\"]}]},{\"ID\":\"upxgjk7vmwbpx496be7i7qr6n\",\"Status\":{\"Timestamp\":\"2021-02-08T11:02:03.112664277Z\",\"State\":\"rejected\",\"Message\":\"preparing\",\"Err\":\"No such image: bayrell\\/cloud_os_standard:0.3.0\",\"ContainerStatus\":{\"ContainerID\":\"\",\"PID\":0,\"ExitCode\":0},\"PortStatus\":[]},\"DesiredState\":\"shutdown\",\"Slot\":1,\"Node\":{\"ID\":\"vbtt40su1da4gn15rg3q2ic1r\",\"Hostname\":\"docker0\",\"Status\":{\"State\":\"ready\",\"Addr\":\"172.30.0.20\"}},\"Networks\":[{\"ID\":\"xq00ze33iythc8paolgryk2na\",\"Name\":\"cloud_backend\",\"Addresses\":[\"172.22.0.14\\/16\"]}]},{\"ID\":\"wbkkpf54n7seb6ah006joqv9d\",\"Status\":{\"Timestamp\":\"2021-02-08T11:13:21.196118598Z\",\"State\":\"shutdown\",\"Message\":\"shutdown\",\"ContainerStatus\":{\"ContainerID\":\"86c899c9f1b2027dadeb680e48d130290b284b4ea293f5766aac3fd31b4f8262\",\"PID\":0,\"ExitCode\":137},\"PortStatus\":[]},\"DesiredState\":\"shutdown\",\"Slot\":1,\"Node\":{\"ID\":\"vbtt40su1da4gn15rg3q2ic1r\",\"Hostname\":\"docker0\",\"Status\":{\"State\":\"ready\",\"Addr\":\"172.30.0.20\"}},\"Networks\":[{\"ID\":\"xq00ze33iythc8paolgryk2na\",\"Name\":\"cloud_backend\",\"Addresses\":[\"172.22.0.16\\/16\"]}]},{\"ID\":\"yorjjpmf1wuholmu8uxa8z0yd\",\"Status\":{\"Timestamp\":\"2021-02-08T11:01:52.739952227Z\",\"State\":\"rejected\",\"Message\":\"preparing\",\"Err\":\"No such image: bayrell\\/cloud_os_standard:0.3.0\",\"ContainerStatus\":{\"ContainerID\":\"\",\"PID\":0,\"ExitCode\":0},\"PortStatus\":[]},\"DesiredState\":\"shutdown\",\"Slot\":1,\"Node\":{\"ID\":\"vbtt40su1da4gn15rg3q2ic1r\",\"Hostname\":\"docker0\",\"Status\":{\"State\":\"ready\",\"Addr\":\"172.30.0.20\"}},\"Networks\":[{\"ID\":\"xq00ze33iythc8paolgryk2na\",\"Name\":\"cloud_backend\",\"Addresses\":[\"172.22.0.13\\/16\"]}]}]}',	1612796792),
(3,	'dev',	'php',	'',	0,	0,	'',	'',	1,	0,	NULL,	'dev_php',	'bayrell/alpine_php_fpm:7.3-3',	'',	'{\"ID\":\"x6vksgg63pwr321r0zr9r2r79\",\"Version\":{\"Index\":2821},\"CreatedAt\":\"2021-02-08T11:43:19.926415098Z\",\"UpdatedAt\":\"2021-02-08T15:06:24.787662069Z\",\"Spec\":{\"Name\":\"dev_php\",\"Labels\":{\"com.docker.stack.image\":\"bayrell\\/alpine_php_fpm:7.3-3\",\"com.docker.stack.namespace\":\"dev\"},\"TaskTemplate\":{\"ContainerSpec\":{\"Image\":\"bayrell\\/alpine_php_fpm:7.3-3\",\"Labels\":{\"com.docker.stack.namespace\":\"dev\"},\"Hostname\":\"{{.Service.Name}}.{{.Task.ID}}.local\",\"Privileges\":{\"CredentialSpec\":null,\"SELinuxContext\":null},\"Mounts\":[{\"Type\":\"volume\",\"Source\":\"dev_php_data\",\"Target\":\"\\/data\",\"VolumeOptions\":{\"Labels\":{\"com.docker.stack.namespace\":\"dev\"}}}],\"Isolation\":\"default\"},\"Resources\":[],\"RestartPolicy\":{\"Condition\":\"on-failure\",\"Delay\":10000000000,\"MaxAttempts\":0,\"Window\":120000000000},\"Placement\":{\"Constraints\":[\"node.hostname == docker0\"]},\"Networks\":[{\"Target\":\"rn05l7w18xf4qtqc4kweu3xpv\",\"Aliases\":[\"php\"]}],\"LogDriver\":{\"Name\":\"journald\"},\"ForceUpdate\":0,\"Runtime\":\"container\"},\"Mode\":{\"Replicated\":{\"Replicas\":2}},\"UpdateConfig\":{\"Parallelism\":1,\"Delay\":5000000000,\"FailureAction\":\"rollback\",\"MaxFailureRatio\":0,\"Order\":\"stop-first\"},\"EndpointSpec\":{\"Mode\":\"dnsrr\"}},\"PreviousSpec\":{\"Name\":\"dev_php\",\"Labels\":{\"com.docker.stack.image\":\"bayrell\\/alpine_php_fpm:7.3-3\",\"com.docker.stack.namespace\":\"dev\"},\"TaskTemplate\":{\"ContainerSpec\":{\"Image\":\"bayrell\\/alpine_php_fpm:7.3-3\",\"Labels\":{\"com.docker.stack.namespace\":\"dev\"},\"Hostname\":\"{{.Service.Name}}.{{.Task.ID}}.local\",\"Env\":[\"AMQP_HOST=cloud_os_rabbitmq\",\"AMQP_PORT=5672\",\"CLOUD_BUS_GATEWAY=cloud_os_gateway\",\"CLOUD_KEY=RA5GXfvIMTbblRqOHXIavzGoHVtdG6L6nyfb6PjGrEp0z4T1iCpBBfrsEQ6Ex4mJH7jT6VP3UYlYezv0szUGT7J4JWx6hYz7uc6JjElcOfUWRKNOoQVKdBRebEBfFBdg\",\"DOCKER=1\",\"MYSQL_HOST=database_mysql_node1\",\"MYSQL_PASSWORD=bQ8z6dVOPs0rHK4h\",\"MYSQL_ROOT_PASSWORD=bQ8z6dVOPs0rHK4h\",\"MYSQL_ROOT_USERNAME=root\",\"MYSQL_USERNAME=root\",\"NODE_ID={{.Node.ID}}\",\"SERVICE_ID={{.Service.ID}}\",\"TASK_ID={{.Task.ID}}\"],\"Privileges\":{\"CredentialSpec\":null,\"SELinuxContext\":null},\"Mounts\":[{\"Type\":\"volume\",\"Source\":\"dev_php_data\",\"Target\":\"\\/data\",\"VolumeOptions\":{\"Labels\":{\"com.docker.stack.namespace\":\"dev\"}}}],\"Isolation\":\"default\"},\"Resources\":[],\"RestartPolicy\":{\"Condition\":\"on-failure\",\"Delay\":10000000000,\"MaxAttempts\":0,\"Window\":120000000000},\"Placement\":{\"Constraints\":[\"node.hostname == docker0\"]},\"Networks\":[{\"Target\":\"rn05l7w18xf4qtqc4kweu3xpv\",\"Aliases\":[\"php\"]}],\"LogDriver\":{\"Name\":\"journald\"},\"ForceUpdate\":0,\"Runtime\":\"container\"},\"Mode\":{\"Replicated\":{\"Replicas\":2}},\"UpdateConfig\":{\"Parallelism\":1,\"Delay\":5000000000,\"FailureAction\":\"rollback\",\"MaxFailureRatio\":0,\"Order\":\"stop-first\"},\"EndpointSpec\":{\"Mode\":\"dnsrr\"}},\"Endpoint\":{\"Spec\":[]},\"UpdateStatus\":{\"State\":\"updating\",\"StartedAt\":\"2021-02-08T15:06:24.787610697Z\",\"Message\":\"update in progress\"}}',	'[{\"ID\":\"q2m4whmq7mq9v3w6r6avnbgxn\",\"Version\":{\"Index\":2825},\"CreatedAt\":\"2021-02-08T11:43:19.971546547Z\",\"UpdatedAt\":\"2021-02-08T15:06:25.146631796Z\",\"Labels\":{},\"Spec\":{\"ContainerSpec\":{\"Image\":\"bayrell/alpine_php_fpm:7.3-3\",\"Labels\":{\"com.docker.stack.namespace\":\"dev\"},\"Hostname\":\"{{.Service.Name}}.{{.Task.ID}}.local\",\"Env\":[\"AMQP_HOST=cloud_os_rabbitmq\",\"AMQP_PORT=5672\",\"CLOUD_BUS_GATEWAY=cloud_os_gateway\",\"CLOUD_KEY=RA5GXfvIMTbblRqOHXIavzGoHVtdG6L6nyfb6PjGrEp0z4T1iCpBBfrsEQ6Ex4mJH7jT6VP3UYlYezv0szUGT7J4JWx6hYz7uc6JjElcOfUWRKNOoQVKdBRebEBfFBdg\",\"DOCKER=1\",\"MYSQL_HOST=database_mysql_node1\",\"MYSQL_PASSWORD=bQ8z6dVOPs0rHK4h\",\"MYSQL_ROOT_PASSWORD=bQ8z6dVOPs0rHK4h\",\"MYSQL_ROOT_USERNAME=root\",\"MYSQL_USERNAME=root\",\"NODE_ID={{.Node.ID}}\",\"SERVICE_ID={{.Service.ID}}\",\"TASK_ID={{.Task.ID}}\"],\"Privileges\":{\"CredentialSpec\":null,\"SELinuxContext\":null},\"Mounts\":[{\"Type\":\"volume\",\"Source\":\"dev_php_data\",\"Target\":\"/data\",\"VolumeOptions\":{\"Labels\":{\"com.docker.stack.namespace\":\"dev\"}}}],\"Isolation\":\"default\"},\"Resources\":{},\"RestartPolicy\":{\"Condition\":\"on-failure\",\"Delay\":10000000000,\"MaxAttempts\":0,\"Window\":120000000000},\"Placement\":{\"Constraints\":[\"node.hostname == docker0\"]},\"Networks\":[{\"Target\":\"rn05l7w18xf4qtqc4kweu3xpv\",\"Aliases\":[\"php\"]}],\"LogDriver\":{\"Name\":\"journald\"},\"ForceUpdate\":0},\"ServiceID\":\"x6vksgg63pwr321r0zr9r2r79\",\"Slot\":2,\"NodeID\":\"vbtt40su1da4gn15rg3q2ic1r\",\"Status\":{\"Timestamp\":\"2021-02-08T15:06:24.943722563Z\",\"State\":\"running\",\"Message\":\"started\",\"ContainerStatus\":{\"ContainerID\":\"64099bb6cb3395d4a31b9d7cc9349baf8c42ca0c163fa843fc7765e3ff737d70\",\"PID\":25532,\"ExitCode\":-1},\"PortStatus\":{}},\"DesiredState\":\"shutdown\",\"NetworksAttachments\":[{\"Network\":{\"ID\":\"rn05l7w18xf4qtqc4kweu3xpv\",\"Version\":{\"Index\":2636},\"CreatedAt\":\"2021-02-08T10:58:48.805764354Z\",\"UpdatedAt\":\"2021-02-08T10:58:48.911821501Z\",\"Spec\":{\"Name\":\"cloud_frontend\",\"Labels\":{},\"DriverConfiguration\":{\"Name\":\"overlay\",\"Options\":{\"com.docker.network.bridge.name\":\"cloud_frontend\"}},\"Attachable\":true,\"IPAMOptions\":{\"Driver\":{\"Name\":\"default\"},\"Configs\":[{\"Subnet\":\"172.21.0.1/16\",\"Gateway\":\"172.21.0.1\"}]},\"Scope\":\"swarm\"},\"DriverState\":{\"Name\":\"overlay\",\"Options\":{\"com.docker.network.bridge.name\":\"cloud_frontend\",\"com.docker.network.driver.overlay.vxlanid_list\":\"4097\"}},\"IPAMOptions\":{\"Driver\":{\"Name\":\"default\"},\"Configs\":[{\"Subnet\":\"172.21.0.1/16\",\"Gateway\":\"172.21.0.1\"}]}},\"Addresses\":[\"172.21.0.3/16\"]}]},{\"ID\":\"ss05xyf0ejveqzbfutndvvtes\",\"Version\":{\"Index\":2827},\"CreatedAt\":\"2021-02-08T15:06:24.825703529Z\",\"UpdatedAt\":\"2021-02-08T15:06:25.475579211Z\",\"Labels\":{},\"Spec\":{\"ContainerSpec\":{\"Image\":\"bayrell/alpine_php_fpm:7.3-3\",\"Labels\":{\"com.docker.stack.namespace\":\"dev\"},\"Hostname\":\"{{.Service.Name}}.{{.Task.ID}}.local\",\"Privileges\":{\"CredentialSpec\":null,\"SELinuxContext\":null},\"Mounts\":[{\"Type\":\"volume\",\"Source\":\"dev_php_data\",\"Target\":\"/data\",\"VolumeOptions\":{\"Labels\":{\"com.docker.stack.namespace\":\"dev\"}}}],\"Isolation\":\"default\"},\"Resources\":{},\"RestartPolicy\":{\"Condition\":\"on-failure\",\"Delay\":10000000000,\"MaxAttempts\":0,\"Window\":120000000000},\"Placement\":{\"Constraints\":[\"node.hostname == docker0\"]},\"Networks\":[{\"Target\":\"rn05l7w18xf4qtqc4kweu3xpv\",\"Aliases\":[\"php\"]}],\"LogDriver\":{\"Name\":\"journald\"},\"ForceUpdate\":0},\"ServiceID\":\"x6vksgg63pwr321r0zr9r2r79\",\"Slot\":2,\"NodeID\":\"vbtt40su1da4gn15rg3q2ic1r\",\"Status\":{\"Timestamp\":\"2021-02-08T15:06:25.413404502Z\",\"State\":\"preparing\",\"Message\":\"preparing\",\"PortStatus\":{}},\"DesiredState\":\"ready\",\"NetworksAttachments\":[{\"Network\":{\"ID\":\"rn05l7w18xf4qtqc4kweu3xpv\",\"Version\":{\"Index\":2636},\"CreatedAt\":\"2021-02-08T10:58:48.805764354Z\",\"UpdatedAt\":\"2021-02-08T10:58:48.911821501Z\",\"Spec\":{\"Name\":\"cloud_frontend\",\"Labels\":{},\"DriverConfiguration\":{\"Name\":\"overlay\",\"Options\":{\"com.docker.network.bridge.name\":\"cloud_frontend\"}},\"Attachable\":true,\"IPAMOptions\":{\"Driver\":{\"Name\":\"default\"},\"Configs\":[{\"Subnet\":\"172.21.0.1/16\",\"Gateway\":\"172.21.0.1\"}]},\"Scope\":\"swarm\"},\"DriverState\":{\"Name\":\"overlay\",\"Options\":{\"com.docker.network.bridge.name\":\"cloud_frontend\",\"com.docker.network.driver.overlay.vxlanid_list\":\"4097\"}},\"IPAMOptions\":{\"Driver\":{\"Name\":\"default\"},\"Configs\":[{\"Subnet\":\"172.21.0.1/16\",\"Gateway\":\"172.21.0.1\"}]}},\"Addresses\":[\"172.21.0.7/16\"]}]},{\"ID\":\"twjs1787ixyrzajqf2bou7yx2\",\"Version\":{\"Index\":2792},\"CreatedAt\":\"2021-02-08T11:43:19.971427044Z\",\"UpdatedAt\":\"2021-02-08T11:43:31.258796462Z\",\"Labels\":{},\"Spec\":{\"ContainerSpec\":{\"Image\":\"bayrell/alpine_php_fpm:7.3-3\",\"Labels\":{\"com.docker.stack.namespace\":\"dev\"},\"Hostname\":\"{{.Service.Name}}.{{.Task.ID}}.local\",\"Env\":[\"AMQP_HOST=cloud_os_rabbitmq\",\"AMQP_PORT=5672\",\"CLOUD_BUS_GATEWAY=cloud_os_gateway\",\"CLOUD_KEY=RA5GXfvIMTbblRqOHXIavzGoHVtdG6L6nyfb6PjGrEp0z4T1iCpBBfrsEQ6Ex4mJH7jT6VP3UYlYezv0szUGT7J4JWx6hYz7uc6JjElcOfUWRKNOoQVKdBRebEBfFBdg\",\"DOCKER=1\",\"MYSQL_HOST=database_mysql_node1\",\"MYSQL_PASSWORD=bQ8z6dVOPs0rHK4h\",\"MYSQL_ROOT_PASSWORD=bQ8z6dVOPs0rHK4h\",\"MYSQL_ROOT_USERNAME=root\",\"MYSQL_USERNAME=root\",\"NODE_ID={{.Node.ID}}\",\"SERVICE_ID={{.Service.ID}}\",\"TASK_ID={{.Task.ID}}\"],\"Privileges\":{\"CredentialSpec\":null,\"SELinuxContext\":null},\"Mounts\":[{\"Type\":\"volume\",\"Source\":\"dev_php_data\",\"Target\":\"/data\",\"VolumeOptions\":{\"Labels\":{\"com.docker.stack.namespace\":\"dev\"}}}],\"Isolation\":\"default\"},\"Resources\":{},\"RestartPolicy\":{\"Condition\":\"on-failure\",\"Delay\":10000000000,\"MaxAttempts\":0,\"Window\":120000000000},\"Placement\":{\"Constraints\":[\"node.hostname == docker0\"]},\"Networks\":[{\"Target\":\"rn05l7w18xf4qtqc4kweu3xpv\",\"Aliases\":[\"php\"]}],\"LogDriver\":{\"Name\":\"journald\"},\"ForceUpdate\":0},\"ServiceID\":\"x6vksgg63pwr321r0zr9r2r79\",\"Slot\":1,\"NodeID\":\"vbtt40su1da4gn15rg3q2ic1r\",\"Status\":{\"Timestamp\":\"2021-02-08T11:43:31.159889268Z\",\"State\":\"running\",\"Message\":\"started\",\"ContainerStatus\":{\"ContainerID\":\"cb596776c4f1bbf4bc11e4d3cee5ffedfd9ee2ee4b0695aeba4d3cd44030c3be\",\"PID\":25573,\"ExitCode\":0},\"PortStatus\":{}},\"DesiredState\":\"running\",\"NetworksAttachments\":[{\"Network\":{\"ID\":\"rn05l7w18xf4qtqc4kweu3xpv\",\"Version\":{\"Index\":2636},\"CreatedAt\":\"2021-02-08T10:58:48.805764354Z\",\"UpdatedAt\":\"2021-02-08T10:58:48.911821501Z\",\"Spec\":{\"Name\":\"cloud_frontend\",\"Labels\":{},\"DriverConfiguration\":{\"Name\":\"overlay\",\"Options\":{\"com.docker.network.bridge.name\":\"cloud_frontend\"}},\"Attachable\":true,\"IPAMOptions\":{\"Driver\":{\"Name\":\"default\"},\"Configs\":[{\"Subnet\":\"172.21.0.1/16\",\"Gateway\":\"172.21.0.1\"}]},\"Scope\":\"swarm\"},\"DriverState\":{\"Name\":\"overlay\",\"Options\":{\"com.docker.network.bridge.name\":\"cloud_frontend\",\"com.docker.network.driver.overlay.vxlanid_list\":\"4097\"}},\"IPAMOptions\":{\"Driver\":{\"Name\":\"default\"},\"Configs\":[{\"Subnet\":\"172.21.0.1/16\",\"Gateway\":\"172.21.0.1\"}]}},\"Addresses\":[\"172.21.0.2/16\"]}]}]\n',	'{\"State\":{\"Work\":1,\"Total\":2},\"Tasks\":[{\"ID\":\"q2m4whmq7mq9v3w6r6avnbgxn\",\"Status\":{\"Timestamp\":\"2021-02-08T15:06:24.943722563Z\",\"State\":\"running\",\"Message\":\"started\",\"ContainerStatus\":{\"ContainerID\":\"64099bb6cb3395d4a31b9d7cc9349baf8c42ca0c163fa843fc7765e3ff737d70\",\"PID\":25532,\"ExitCode\":-1},\"PortStatus\":[]},\"DesiredState\":\"shutdown\",\"Slot\":2,\"Node\":{\"ID\":\"vbtt40su1da4gn15rg3q2ic1r\",\"Hostname\":\"docker0\",\"Status\":{\"State\":\"ready\",\"Addr\":\"172.30.0.20\"}},\"Networks\":[{\"ID\":\"rn05l7w18xf4qtqc4kweu3xpv\",\"Name\":\"cloud_frontend\",\"Addresses\":[\"172.21.0.3\\/16\"]}]},{\"ID\":\"ss05xyf0ejveqzbfutndvvtes\",\"Status\":{\"Timestamp\":\"2021-02-08T15:06:25.413404502Z\",\"State\":\"preparing\",\"Message\":\"preparing\",\"PortStatus\":[]},\"DesiredState\":\"ready\",\"Slot\":2,\"Node\":{\"ID\":\"vbtt40su1da4gn15rg3q2ic1r\",\"Hostname\":\"docker0\",\"Status\":{\"State\":\"ready\",\"Addr\":\"172.30.0.20\"}},\"Networks\":[{\"ID\":\"rn05l7w18xf4qtqc4kweu3xpv\",\"Name\":\"cloud_frontend\",\"Addresses\":[\"172.21.0.7\\/16\"]}]},{\"ID\":\"twjs1787ixyrzajqf2bou7yx2\",\"Status\":{\"Timestamp\":\"2021-02-08T11:43:31.159889268Z\",\"State\":\"running\",\"Message\":\"started\",\"ContainerStatus\":{\"ContainerID\":\"cb596776c4f1bbf4bc11e4d3cee5ffedfd9ee2ee4b0695aeba4d3cd44030c3be\",\"PID\":25573,\"ExitCode\":0},\"PortStatus\":[]},\"DesiredState\":\"running\",\"Slot\":1,\"Node\":{\"ID\":\"vbtt40su1da4gn15rg3q2ic1r\",\"Hostname\":\"docker0\",\"Status\":{\"State\":\"ready\",\"Addr\":\"172.30.0.20\"}},\"Networks\":[{\"ID\":\"rn05l7w18xf4qtqc4kweu3xpv\",\"Name\":\"cloud_frontend\",\"Addresses\":[\"172.21.0.2\\/16\"]}]}]}',	1612796792),
(4,	'cloud_os',	'rabbitmq',	'',	1,	15672,	'/',	'location ~* /admin/services/cloud_os_rabbitmq/api/(.*?)/(.*) {\n        proxy_pass http://15672.cloud_os_rabbitmq.cloud_backend.example/api/$1/%2F/$2?$query_string;\n        include proxy_params;\n}\nlocation /admin/services/cloud_os_rabbitmq/ {\n        proxy_pass http://15672.cloud_os_rabbitmq.cloud_backend.example/;\n        include proxy_params;\n}',	1,	0,	NULL,	'cloud_os_rabbitmq',	'rabbitmq:3.8.9-management',	'',	'{\"ID\":\"bxpn7emeng7536eyshhopet2a\",\"Version\":{\"Index\":2793},\"CreatedAt\":\"2021-02-08T14:41:00.584768702Z\",\"UpdatedAt\":\"2021-02-08T14:41:00.584768702Z\",\"Spec\":{\"Name\":\"cloud_os_rabbitmq\",\"Labels\":{\"com.docker.stack.image\":\"rabbitmq:3.8.9-management\",\"com.docker.stack.namespace\":\"cloud_os\"},\"TaskTemplate\":{\"ContainerSpec\":{\"Image\":\"rabbitmq:3.8.9-management\",\"Labels\":{\"com.docker.stack.namespace\":\"cloud_os\"},\"Hostname\":\"{{.Service.Name}}.{{.Task.ID}}.local\",\"Privileges\":{\"CredentialSpec\":null,\"SELinuxContext\":null},\"Mounts\":[{\"Type\":\"volume\",\"Source\":\"cloud_os_rabbitmq_data\",\"Target\":\"\\/var\\/lib\\/rabbitmq\",\"VolumeOptions\":{\"Labels\":{\"com.docker.stack.namespace\":\"cloud_os\"}}}],\"Isolation\":\"default\"},\"Resources\":[],\"RestartPolicy\":{\"Condition\":\"on-failure\",\"Delay\":10000000000,\"MaxAttempts\":0,\"Window\":120000000000},\"Placement\":{\"Constraints\":[\"node.labels.name == docker0\"]},\"Networks\":[{\"Target\":\"xq00ze33iythc8paolgryk2na\",\"Aliases\":[\"rabbitmq\"]}],\"LogDriver\":{\"Name\":\"journald\"},\"ForceUpdate\":0,\"Runtime\":\"container\"},\"Mode\":{\"Replicated\":{\"Replicas\":1}},\"UpdateConfig\":{\"Parallelism\":1,\"Delay\":5000000000,\"FailureAction\":\"rollback\",\"MaxFailureRatio\":0,\"Order\":\"stop-first\"},\"EndpointSpec\":{\"Mode\":\"dnsrr\"}},\"Endpoint\":{\"Spec\":[]}}',	'[{\"ID\":\"rc327o0c2tuhia7b70hwhujq8\",\"Version\":{\"Index\":2807},\"CreatedAt\":\"2021-02-08T14:41:00.622214834Z\",\"UpdatedAt\":\"2021-02-08T14:41:12.077271468Z\",\"Labels\":{},\"Spec\":{\"ContainerSpec\":{\"Image\":\"rabbitmq:3.8.9-management\",\"Labels\":{\"com.docker.stack.namespace\":\"cloud_os\"},\"Hostname\":\"{{.Service.Name}}.{{.Task.ID}}.local\",\"Privileges\":{\"CredentialSpec\":null,\"SELinuxContext\":null},\"Mounts\":[{\"Type\":\"volume\",\"Source\":\"cloud_os_rabbitmq_data\",\"Target\":\"/var/lib/rabbitmq\",\"VolumeOptions\":{\"Labels\":{\"com.docker.stack.namespace\":\"cloud_os\"}}}],\"Isolation\":\"default\"},\"Resources\":{},\"RestartPolicy\":{\"Condition\":\"on-failure\",\"Delay\":10000000000,\"MaxAttempts\":0,\"Window\":120000000000},\"Placement\":{\"Constraints\":[\"node.labels.name == docker0\"]},\"Networks\":[{\"Target\":\"xq00ze33iythc8paolgryk2na\",\"Aliases\":[\"rabbitmq\"]}],\"LogDriver\":{\"Name\":\"journald\"},\"ForceUpdate\":0},\"ServiceID\":\"bxpn7emeng7536eyshhopet2a\",\"Slot\":1,\"NodeID\":\"vbtt40su1da4gn15rg3q2ic1r\",\"Status\":{\"Timestamp\":\"2021-02-08T14:41:11.999248613Z\",\"State\":\"running\",\"Message\":\"started\",\"ContainerStatus\":{\"ContainerID\":\"9cb3079f4c1b198355d44e8678c579b6574003ddc51fb3e0dd1e61fe01972d2e\",\"PID\":9859,\"ExitCode\":0},\"PortStatus\":{}},\"DesiredState\":\"running\",\"NetworksAttachments\":[{\"Network\":{\"ID\":\"xq00ze33iythc8paolgryk2na\",\"Version\":{\"Index\":2637},\"CreatedAt\":\"2021-02-08T10:58:48.873385548Z\",\"UpdatedAt\":\"2021-02-08T10:58:48.944880294Z\",\"Spec\":{\"Name\":\"cloud_backend\",\"Labels\":{},\"DriverConfiguration\":{\"Name\":\"overlay\",\"Options\":{\"com.docker.network.bridge.name\":\"cloud_backend\"}},\"Attachable\":true,\"IPAMOptions\":{\"Driver\":{\"Name\":\"default\"},\"Configs\":[{\"Subnet\":\"172.22.0.1/16\",\"Gateway\":\"172.22.0.1\"}]},\"Scope\":\"swarm\"},\"DriverState\":{\"Name\":\"overlay\",\"Options\":{\"com.docker.network.bridge.name\":\"cloud_backend\",\"com.docker.network.driver.overlay.vxlanid_list\":\"4098\"}},\"IPAMOptions\":{\"Driver\":{\"Name\":\"default\"},\"Configs\":[{\"Subnet\":\"172.22.0.1/16\",\"Gateway\":\"172.22.0.1\"}]}},\"Addresses\":[\"172.22.0.18/16\"]}]}]\n',	'{\"State\":{\"Work\":1,\"Total\":1},\"Tasks\":[{\"ID\":\"rc327o0c2tuhia7b70hwhujq8\",\"Status\":{\"Timestamp\":\"2021-02-08T14:41:11.999248613Z\",\"State\":\"running\",\"Message\":\"started\",\"ContainerStatus\":{\"ContainerID\":\"9cb3079f4c1b198355d44e8678c579b6574003ddc51fb3e0dd1e61fe01972d2e\",\"PID\":9859,\"ExitCode\":0},\"PortStatus\":[]},\"DesiredState\":\"running\",\"Slot\":1,\"Node\":{\"ID\":\"vbtt40su1da4gn15rg3q2ic1r\",\"Hostname\":\"docker0\",\"Status\":{\"State\":\"ready\",\"Addr\":\"172.30.0.20\"}},\"Networks\":[{\"ID\":\"xq00ze33iythc8paolgryk2na\",\"Name\":\"cloud_backend\",\"Addresses\":[\"172.22.0.18\\/16\"]}]}]}',	1612796792),
(5,	'cloud_os',	'gateway',	'',	0,	0,	'',	'',	1,	0,	NULL,	'cloud_os_gateway',	'bayrell/bus_gateway:0.3.0',	'',	'{\"ID\":\"t8lcurbmg68ot449tdq0qimsl\",\"Version\":{\"Index\":2798},\"CreatedAt\":\"2021-02-08T14:41:02.698924122Z\",\"UpdatedAt\":\"2021-02-08T14:41:02.698924122Z\",\"Spec\":{\"Name\":\"cloud_os_gateway\",\"Labels\":{\"com.docker.stack.image\":\"bayrell\\/bus_gateway:0.3.0\",\"com.docker.stack.namespace\":\"cloud_os\"},\"TaskTemplate\":{\"ContainerSpec\":{\"Image\":\"bayrell\\/bus_gateway:0.3.0\",\"Labels\":{\"com.docker.stack.namespace\":\"cloud_os\"},\"Hostname\":\"{{.Service.Name}}.{{.Task.ID}}.local\",\"Env\":[\"AMQP_HOST=cloud_os_rabbitmq\",\"AMQP_PORT=5672\",\"CLOUD_BUS_GATEWAY=cloud_os_gateway\",\"CLOUD_KEY=RA5GXfvIMTbblRqOHXIavzGoHVtdG6L6nyfb6PjGrEp0z4T1iCpBBfrsEQ6Ex4mJH7jT6VP3UYlYezv0szUGT7J4JWx6hYz7uc6JjElcOfUWRKNOoQVKdBRebEBfFBdg\",\"DOCKER=1\",\"MYSQL_HOST=database_mysql_node1\",\"MYSQL_PASSWORD=bQ8z6dVOPs0rHK4h\",\"MYSQL_ROOT_PASSWORD=bQ8z6dVOPs0rHK4h\",\"MYSQL_ROOT_USERNAME=root\",\"MYSQL_USERNAME=root\",\"NODE_ID={{.Node.ID}}\",\"SERVICE_ID={{.Service.ID}}\",\"TASK_ID={{.Task.ID}}\"],\"Privileges\":{\"CredentialSpec\":null,\"SELinuxContext\":null},\"Isolation\":\"default\"},\"Resources\":[],\"RestartPolicy\":{\"Condition\":\"on-failure\",\"Delay\":10000000000,\"MaxAttempts\":0,\"Window\":120000000000},\"Placement\":{\"Constraints\":[\"node.labels.name == docker0\"]},\"Networks\":[{\"Target\":\"xq00ze33iythc8paolgryk2na\",\"Aliases\":[\"gateway\"]},{\"Target\":\"rn05l7w18xf4qtqc4kweu3xpv\",\"Aliases\":[\"gateway\"]}],\"LogDriver\":{\"Name\":\"journald\"},\"ForceUpdate\":0,\"Runtime\":\"container\"},\"Mode\":{\"Replicated\":{\"Replicas\":1}},\"UpdateConfig\":{\"Parallelism\":1,\"Delay\":5000000000,\"FailureAction\":\"rollback\",\"MaxFailureRatio\":0,\"Order\":\"stop-first\"},\"EndpointSpec\":{\"Mode\":\"dnsrr\"}},\"Endpoint\":{\"Spec\":[]}}',	'[{\"ID\":\"cec8icuqexrp07x9vvsp3vnez\",\"Version\":{\"Index\":2808},\"CreatedAt\":\"2021-02-08T14:41:02.736685999Z\",\"UpdatedAt\":\"2021-02-08T14:41:12.292788096Z\",\"Labels\":{},\"Spec\":{\"ContainerSpec\":{\"Image\":\"bayrell/bus_gateway:0.3.0\",\"Labels\":{\"com.docker.stack.namespace\":\"cloud_os\"},\"Hostname\":\"{{.Service.Name}}.{{.Task.ID}}.local\",\"Env\":[\"AMQP_HOST=cloud_os_rabbitmq\",\"AMQP_PORT=5672\",\"CLOUD_BUS_GATEWAY=cloud_os_gateway\",\"CLOUD_KEY=RA5GXfvIMTbblRqOHXIavzGoHVtdG6L6nyfb6PjGrEp0z4T1iCpBBfrsEQ6Ex4mJH7jT6VP3UYlYezv0szUGT7J4JWx6hYz7uc6JjElcOfUWRKNOoQVKdBRebEBfFBdg\",\"DOCKER=1\",\"MYSQL_HOST=database_mysql_node1\",\"MYSQL_PASSWORD=bQ8z6dVOPs0rHK4h\",\"MYSQL_ROOT_PASSWORD=bQ8z6dVOPs0rHK4h\",\"MYSQL_ROOT_USERNAME=root\",\"MYSQL_USERNAME=root\",\"NODE_ID={{.Node.ID}}\",\"SERVICE_ID={{.Service.ID}}\",\"TASK_ID={{.Task.ID}}\"],\"Privileges\":{\"CredentialSpec\":null,\"SELinuxContext\":null},\"Isolation\":\"default\"},\"Resources\":{},\"RestartPolicy\":{\"Condition\":\"on-failure\",\"Delay\":10000000000,\"MaxAttempts\":0,\"Window\":120000000000},\"Placement\":{\"Constraints\":[\"node.labels.name == docker0\"]},\"Networks\":[{\"Target\":\"xq00ze33iythc8paolgryk2na\",\"Aliases\":[\"gateway\"]},{\"Target\":\"rn05l7w18xf4qtqc4kweu3xpv\",\"Aliases\":[\"gateway\"]}],\"LogDriver\":{\"Name\":\"journald\"},\"ForceUpdate\":0},\"ServiceID\":\"t8lcurbmg68ot449tdq0qimsl\",\"Slot\":1,\"NodeID\":\"vbtt40su1da4gn15rg3q2ic1r\",\"Status\":{\"Timestamp\":\"2021-02-08T14:41:12.079439739Z\",\"State\":\"running\",\"Message\":\"started\",\"ContainerStatus\":{\"ContainerID\":\"693139d8ccd33e1eb72f93e874a330700abfa889387ead2850a7fc53b290fea2\",\"PID\":9899,\"ExitCode\":0},\"PortStatus\":{}},\"DesiredState\":\"running\",\"NetworksAttachments\":[{\"Network\":{\"ID\":\"xq00ze33iythc8paolgryk2na\",\"Version\":{\"Index\":2637},\"CreatedAt\":\"2021-02-08T10:58:48.873385548Z\",\"UpdatedAt\":\"2021-02-08T10:58:48.944880294Z\",\"Spec\":{\"Name\":\"cloud_backend\",\"Labels\":{},\"DriverConfiguration\":{\"Name\":\"overlay\",\"Options\":{\"com.docker.network.bridge.name\":\"cloud_backend\"}},\"Attachable\":true,\"IPAMOptions\":{\"Driver\":{\"Name\":\"default\"},\"Configs\":[{\"Subnet\":\"172.22.0.1/16\",\"Gateway\":\"172.22.0.1\"}]},\"Scope\":\"swarm\"},\"DriverState\":{\"Name\":\"overlay\",\"Options\":{\"com.docker.network.bridge.name\":\"cloud_backend\",\"com.docker.network.driver.overlay.vxlanid_list\":\"4098\"}},\"IPAMOptions\":{\"Driver\":{\"Name\":\"default\"},\"Configs\":[{\"Subnet\":\"172.22.0.1/16\",\"Gateway\":\"172.22.0.1\"}]}},\"Addresses\":[\"172.22.0.19/16\"]},{\"Network\":{\"ID\":\"rn05l7w18xf4qtqc4kweu3xpv\",\"Version\":{\"Index\":2636},\"CreatedAt\":\"2021-02-08T10:58:48.805764354Z\",\"UpdatedAt\":\"2021-02-08T10:58:48.911821501Z\",\"Spec\":{\"Name\":\"cloud_frontend\",\"Labels\":{},\"DriverConfiguration\":{\"Name\":\"overlay\",\"Options\":{\"com.docker.network.bridge.name\":\"cloud_frontend\"}},\"Attachable\":true,\"IPAMOptions\":{\"Driver\":{\"Name\":\"default\"},\"Configs\":[{\"Subnet\":\"172.21.0.1/16\",\"Gateway\":\"172.21.0.1\"}]},\"Scope\":\"swarm\"},\"DriverState\":{\"Name\":\"overlay\",\"Options\":{\"com.docker.network.bridge.name\":\"cloud_frontend\",\"com.docker.network.driver.overlay.vxlanid_list\":\"4097\"}},\"IPAMOptions\":{\"Driver\":{\"Name\":\"default\"},\"Configs\":[{\"Subnet\":\"172.21.0.1/16\",\"Gateway\":\"172.21.0.1\"}]}},\"Addresses\":[\"172.21.0.5/16\"]}]}]\n',	'{\"State\":{\"Work\":1,\"Total\":1},\"Tasks\":[{\"ID\":\"cec8icuqexrp07x9vvsp3vnez\",\"Status\":{\"Timestamp\":\"2021-02-08T14:41:12.079439739Z\",\"State\":\"running\",\"Message\":\"started\",\"ContainerStatus\":{\"ContainerID\":\"693139d8ccd33e1eb72f93e874a330700abfa889387ead2850a7fc53b290fea2\",\"PID\":9899,\"ExitCode\":0},\"PortStatus\":[]},\"DesiredState\":\"running\",\"Slot\":1,\"Node\":{\"ID\":\"vbtt40su1da4gn15rg3q2ic1r\",\"Hostname\":\"docker0\",\"Status\":{\"State\":\"ready\",\"Addr\":\"172.30.0.20\"}},\"Networks\":[{\"ID\":\"xq00ze33iythc8paolgryk2na\",\"Name\":\"cloud_backend\",\"Addresses\":[\"172.22.0.19\\/16\"]},{\"ID\":\"rn05l7w18xf4qtqc4kweu3xpv\",\"Name\":\"cloud_frontend\",\"Addresses\":[\"172.21.0.5\\/16\"]}]}]}',	1612796792),
(6,	'cloud_os',	'http',	'',	0,	0,	'',	'',	1,	0,	NULL,	'cloud_os_http',	'bayrell/load_balancer_http:0.3.0',	'',	'{\"ID\":\"78p6lod81gd8vc7qxsqum7b9i\",\"Version\":{\"Index\":2819},\"CreatedAt\":\"2021-02-08T14:54:06.431614739Z\",\"UpdatedAt\":\"2021-02-08T14:55:16.79037569Z\",\"Spec\":{\"Name\":\"cloud_os_http\",\"Labels\":{\"com.docker.stack.image\":\"bayrell\\/load_balancer_http:0.3.0\",\"com.docker.stack.namespace\":\"cloud_os\"},\"TaskTemplate\":{\"ContainerSpec\":{\"Image\":\"bayrell\\/load_balancer_http:0.3.0\",\"Labels\":{\"com.docker.stack.namespace\":\"cloud_os\"},\"Hostname\":\"{{.Service.Name}}.{{.Task.ID}}.local\",\"Env\":[\"AMQP_HOST=cloud_os_rabbitmq\",\"AMQP_PORT=5672\",\"CLOUD_BUS_GATEWAY=cloud_os_gateway\",\"CLOUD_KEY=RA5GXfvIMTbblRqOHXIavzGoHVtdG6L6nyfb6PjGrEp0z4T1iCpBBfrsEQ6Ex4mJH7jT6VP3UYlYezv0szUGT7J4JWx6hYz7uc6JjElcOfUWRKNOoQVKdBRebEBfFBdg\",\"DOCKER=1\",\"MYSQL_HOST=database_mysql_node1\",\"MYSQL_PASSWORD=bQ8z6dVOPs0rHK4h\",\"MYSQL_ROOT_PASSWORD=bQ8z6dVOPs0rHK4h\",\"MYSQL_ROOT_USERNAME=root\",\"MYSQL_USERNAME=root\",\"NODE_ID={{.Node.ID}}\",\"SERVICE_ID={{.Service.ID}}\",\"TASK_ID={{.Task.ID}}\"],\"Privileges\":{\"CredentialSpec\":null,\"SELinuxContext\":null},\"Mounts\":[{\"Type\":\"volume\",\"Source\":\"cloud_os_http_data\",\"Target\":\"\\/data\",\"VolumeOptions\":{\"Labels\":{\"com.docker.stack.namespace\":\"cloud_os\"}}}],\"Isolation\":\"default\"},\"Resources\":[],\"RestartPolicy\":{\"Condition\":\"on-failure\",\"Delay\":10000000000,\"MaxAttempts\":0,\"Window\":120000000000},\"Placement\":{\"Constraints\":[\"node.labels.name == docker0\"]},\"Networks\":[{\"Target\":\"rn05l7w18xf4qtqc4kweu3xpv\",\"Aliases\":[\"http\"]}],\"LogDriver\":{\"Name\":\"journald\"},\"ForceUpdate\":0,\"Runtime\":\"container\"},\"Mode\":{\"Replicated\":{\"Replicas\":1}},\"UpdateConfig\":{\"Parallelism\":1,\"Delay\":5000000000,\"FailureAction\":\"rollback\",\"MaxFailureRatio\":0,\"Order\":\"stop-first\"},\"EndpointSpec\":{\"Mode\":\"dnsrr\",\"Ports\":[{\"Protocol\":\"tcp\",\"TargetPort\":80,\"PublishedPort\":80,\"PublishMode\":\"host\"}]}},\"PreviousSpec\":{\"Name\":\"cloud_os_http\",\"Labels\":{\"com.docker.stack.image\":\"bayrell\\/load_balancer_http:0.3.0\",\"com.docker.stack.namespace\":\"cloud_os\"},\"TaskTemplate\":{\"ContainerSpec\":{\"Image\":\"bayrell\\/load_balancer_http:0.3.0\",\"Labels\":{\"com.docker.stack.namespace\":\"cloud_os\"},\"Hostname\":\"{{.Service.Name}}.{{.Task.ID}}.local\",\"Env\":[\"AMQP_HOST=cloud_os_rabbitmq\",\"AMQP_PORT=5672\",\"CLOUD_BUS_GATEWAY=cloud_os_gateway\",\"CLOUD_KEY=RA5GXfvIMTbblRqOHXIavzGoHVtdG6L6nyfb6PjGrEp0z4T1iCpBBfrsEQ6Ex4mJH7jT6VP3UYlYezv0szUGT7J4JWx6hYz7uc6JjElcOfUWRKNOoQVKdBRebEBfFBdg\",\"DOCKER=1\",\"MYSQL_HOST=database_mysql_node1\",\"MYSQL_PASSWORD=bQ8z6dVOPs0rHK4h\",\"MYSQL_ROOT_PASSWORD=bQ8z6dVOPs0rHK4h\",\"MYSQL_ROOT_USERNAME=root\",\"MYSQL_USERNAME=root\",\"NODE_ID={{.Node.ID}}\",\"SERVICE_ID={{.Service.ID}}\",\"TASK_ID={{.Task.ID}}\"],\"Privileges\":{\"CredentialSpec\":null,\"SELinuxContext\":null},\"Mounts\":[{\"Type\":\"volume\",\"Source\":\"cloud_os_http_data\",\"Target\":\"\\/data\",\"VolumeOptions\":{\"Labels\":{\"com.docker.stack.namespace\":\"cloud_os\"}}}],\"Isolation\":\"default\"},\"Resources\":[],\"RestartPolicy\":{\"Condition\":\"on-failure\",\"Delay\":10000000000,\"MaxAttempts\":0,\"Window\":120000000000},\"Placement\":{\"Constraints\":[\"node.labels.name == docker0\"]},\"Networks\":[{\"Target\":\"rn05l7w18xf4qtqc4kweu3xpv\",\"Aliases\":[\"http\"]}],\"LogDriver\":{\"Name\":\"journald\"},\"ForceUpdate\":0,\"Runtime\":\"container\"},\"Mode\":{\"Replicated\":{\"Replicas\":1}},\"UpdateConfig\":{\"Parallelism\":1,\"Delay\":5000000000,\"FailureAction\":\"rollback\",\"MaxFailureRatio\":0,\"Order\":\"stop-first\"},\"EndpointSpec\":{\"Mode\":\"dnsrr\",\"Ports\":[{\"Protocol\":\"tcp\",\"TargetPort\":80,\"PublishedPort\":80,\"PublishMode\":\"host\"}]}},\"Endpoint\":{\"Spec\":{\"Mode\":\"dnsrr\",\"Ports\":[{\"Protocol\":\"tcp\",\"TargetPort\":80,\"PublishedPort\":80,\"PublishMode\":\"host\"}]},\"Ports\":[{\"Protocol\":\"tcp\",\"TargetPort\":80,\"PublishedPort\":80,\"PublishMode\":\"host\"}]}}',	'[{\"ID\":\"vo8px25dstgp3hesb87r6rizu\",\"Version\":{\"Index\":2818},\"CreatedAt\":\"2021-02-08T14:54:06.469728606Z\",\"UpdatedAt\":\"2021-02-08T14:54:17.593058034Z\",\"Labels\":{},\"Spec\":{\"ContainerSpec\":{\"Image\":\"bayrell/load_balancer_http:0.3.0\",\"Labels\":{\"com.docker.stack.namespace\":\"cloud_os\"},\"Hostname\":\"{{.Service.Name}}.{{.Task.ID}}.local\",\"Env\":[\"AMQP_HOST=cloud_os_rabbitmq\",\"AMQP_PORT=5672\",\"CLOUD_BUS_GATEWAY=cloud_os_gateway\",\"CLOUD_KEY=RA5GXfvIMTbblRqOHXIavzGoHVtdG6L6nyfb6PjGrEp0z4T1iCpBBfrsEQ6Ex4mJH7jT6VP3UYlYezv0szUGT7J4JWx6hYz7uc6JjElcOfUWRKNOoQVKdBRebEBfFBdg\",\"DOCKER=1\",\"MYSQL_HOST=database_mysql_node1\",\"MYSQL_PASSWORD=bQ8z6dVOPs0rHK4h\",\"MYSQL_ROOT_PASSWORD=bQ8z6dVOPs0rHK4h\",\"MYSQL_ROOT_USERNAME=root\",\"MYSQL_USERNAME=root\",\"NODE_ID={{.Node.ID}}\",\"SERVICE_ID={{.Service.ID}}\",\"TASK_ID={{.Task.ID}}\"],\"Privileges\":{\"CredentialSpec\":null,\"SELinuxContext\":null},\"Mounts\":[{\"Type\":\"volume\",\"Source\":\"cloud_os_http_data\",\"Target\":\"/data\",\"VolumeOptions\":{\"Labels\":{\"com.docker.stack.namespace\":\"cloud_os\"}}}],\"Isolation\":\"default\"},\"Resources\":{},\"RestartPolicy\":{\"Condition\":\"on-failure\",\"Delay\":10000000000,\"MaxAttempts\":0,\"Window\":120000000000},\"Placement\":{\"Constraints\":[\"node.labels.name == docker0\"]},\"Networks\":[{\"Target\":\"rn05l7w18xf4qtqc4kweu3xpv\",\"Aliases\":[\"http\"]}],\"LogDriver\":{\"Name\":\"journald\"},\"ForceUpdate\":0},\"ServiceID\":\"78p6lod81gd8vc7qxsqum7b9i\",\"Slot\":1,\"NodeID\":\"vbtt40su1da4gn15rg3q2ic1r\",\"Status\":{\"Timestamp\":\"2021-02-08T14:54:17.586010507Z\",\"State\":\"running\",\"Message\":\"started\",\"ContainerStatus\":{\"ContainerID\":\"d9a2e82179971b62421c35c9a9d2ab12229194de5be30cce82fad1117e797302\",\"PID\":12393,\"ExitCode\":0},\"PortStatus\":{\"Ports\":[{\"Protocol\":\"tcp\",\"TargetPort\":80,\"PublishedPort\":80,\"PublishMode\":\"host\"}]}},\"DesiredState\":\"running\",\"NetworksAttachments\":[{\"Network\":{\"ID\":\"rn05l7w18xf4qtqc4kweu3xpv\",\"Version\":{\"Index\":2636},\"CreatedAt\":\"2021-02-08T10:58:48.805764354Z\",\"UpdatedAt\":\"2021-02-08T10:58:48.911821501Z\",\"Spec\":{\"Name\":\"cloud_frontend\",\"Labels\":{},\"DriverConfiguration\":{\"Name\":\"overlay\",\"Options\":{\"com.docker.network.bridge.name\":\"cloud_frontend\"}},\"Attachable\":true,\"IPAMOptions\":{\"Driver\":{\"Name\":\"default\"},\"Configs\":[{\"Subnet\":\"172.21.0.1/16\",\"Gateway\":\"172.21.0.1\"}]},\"Scope\":\"swarm\"},\"DriverState\":{\"Name\":\"overlay\",\"Options\":{\"com.docker.network.bridge.name\":\"cloud_frontend\",\"com.docker.network.driver.overlay.vxlanid_list\":\"4097\"}},\"IPAMOptions\":{\"Driver\":{\"Name\":\"default\"},\"Configs\":[{\"Subnet\":\"172.21.0.1/16\",\"Gateway\":\"172.21.0.1\"}]}},\"Addresses\":[\"172.21.0.6/16\"]}]}]\n',	'{\"State\":{\"Work\":1,\"Total\":1},\"Tasks\":[{\"ID\":\"vo8px25dstgp3hesb87r6rizu\",\"Status\":{\"Timestamp\":\"2021-02-08T14:54:17.586010507Z\",\"State\":\"running\",\"Message\":\"started\",\"ContainerStatus\":{\"ContainerID\":\"d9a2e82179971b62421c35c9a9d2ab12229194de5be30cce82fad1117e797302\",\"PID\":12393,\"ExitCode\":0},\"PortStatus\":{\"Ports\":[{\"Protocol\":\"tcp\",\"TargetPort\":80,\"PublishedPort\":80,\"PublishMode\":\"host\"}]}},\"DesiredState\":\"running\",\"Slot\":1,\"Node\":{\"ID\":\"vbtt40su1da4gn15rg3q2ic1r\",\"Hostname\":\"docker0\",\"Status\":{\"State\":\"ready\",\"Addr\":\"172.30.0.20\"}},\"Networks\":[{\"ID\":\"rn05l7w18xf4qtqc4kweu3xpv\",\"Name\":\"cloud_frontend\",\"Addresses\":[\"172.21.0.6\\/16\"]}]}]}',	1612796792);

DROP TABLE IF EXISTS `spaces`;
CREATE TABLE `spaces` (
  `space_id` bigint(20) NOT NULL AUTO_INCREMENT,
  `api_name` varchar(255) COLLATE utf8mb4_unicode_ci NOT NULL,
  `name` varchar(255) COLLATE utf8mb4_unicode_ci NOT NULL,
  PRIMARY KEY (`space_id`)
) ENGINE=InnoDB DEFAULT CHARSET=utf8mb4 COLLATE=utf8mb4_unicode_ci;


DROP TABLE IF EXISTS `stacks`;
CREATE TABLE `stacks` (
  `stack_name` varchar(255) COLLATE utf8mb4_unicode_ci NOT NULL
) ENGINE=InnoDB DEFAULT CHARSET=utf8mb4 COLLATE=utf8mb4_unicode_ci;


DROP TABLE IF EXISTS `top_menu`;
CREATE TABLE `top_menu` (
  `id` bigint(20) NOT NULL AUTO_INCREMENT,
  `name` varchar(255) COLLATE utf8mb4_unicode_ci NOT NULL,
  `href` varchar(255) COLLATE utf8mb4_unicode_ci NOT NULL,
  `pos` bigint(20) NOT NULL,
  PRIMARY KEY (`id`)
) ENGINE=InnoDB DEFAULT CHARSET=utf8mb4 COLLATE=utf8mb4_unicode_ci;


DROP TABLE IF EXISTS `users`;
CREATE TABLE `users` (
  `user_id` bigint(20) NOT NULL AUTO_INCREMENT,
  `login` varchar(255) COLLATE utf8mb4_unicode_ci NOT NULL,
  `name` varchar(255) COLLATE utf8mb4_unicode_ci NOT NULL,
  `banned` tinyint(4) NOT NULL,
  `is_deleted` tinyint(4) NOT NULL,
  PRIMARY KEY (`user_id`),
  UNIQUE KEY `login` (`login`)
) ENGINE=InnoDB DEFAULT CHARSET=utf8mb4 COLLATE=utf8mb4_unicode_ci;


DROP TABLE IF EXISTS `users_auth`;
CREATE TABLE `users_auth` (
  `user_id` bigint(20) NOT NULL,
  `method` varchar(255) COLLATE utf8mb4_unicode_ci NOT NULL,
  `value` varchar(255) COLLATE utf8mb4_unicode_ci NOT NULL,
  UNIQUE KEY `user_id_method` (`user_id`,`method`)
) ENGINE=InnoDB DEFAULT CHARSET=utf8mb4 COLLATE=utf8mb4_unicode_ci;


-- 2021-02-08 15:06:35