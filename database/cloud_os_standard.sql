-- Adminer 4.7.6 MySQL dump

SET NAMES utf8;
SET time_zone = '+00:00';
SET foreign_key_checks = 0;
SET sql_mode = 'NO_AUTO_VALUE_ON_ZERO';

SET NAMES utf8mb4;

DROP TABLE IF EXISTS `applications`;
CREATE TABLE `applications` (
  `id` bigint(20) NOT NULL AUTO_INCREMENT,
  `stack_name` varchar(255) COLLATE utf8mb4_unicode_ci NOT NULL,
  `name` varchar(255) COLLATE utf8mb4_unicode_ci NOT NULL,
  `content` longtext COLLATE utf8mb4_unicode_ci NOT NULL,
  PRIMARY KEY (`id`)
) ENGINE=InnoDB DEFAULT CHARSET=utf8mb4 COLLATE=utf8mb4_unicode_ci;

INSERT INTO `applications` (`id`, `stack_name`, `name`, `content`) VALUES
(1,	'database',	'mysql.yaml',	'version: \"3.7\"\n\nservices:\n  \n  mysql_node1:\n    image: bayrell/alpine_mariadb:10.5-2\n    hostname: \"{{.Service.Name}}.{{.Task.ID}}.local\"\n    volumes:\n      - \"mysql_node1_data:/data\"\n    env_file:\n      - ../cloud_os/cloud_env.conf\n    environment:\n      MYSQL_CMD: --character-set-server=utf8mb4 --collation-server=utf8mb4_unicode_ci --sql-mode=\"\" --ft_min_word_len=1 --wait_timeout=600 --max_allowed_packet=1G\n    deploy:\n      replicas: 1\n      endpoint_mode: dnsrr\n      update_config:\n        parallelism: 1\n        failure_action: rollback\n        delay: 5s\n      restart_policy:\n        condition: \"on-failure\"\n        delay: 10s\n        window: 120s\n      placement:\n        constraints:\n          - node.labels.name == docker0\n    networks:\n      - cloud_backend\n    logging:\n      driver: journald\n\nvolumes:\n  mysql_node1_data:\n\nnetworks:\n  cloud_backend:\n    external: true'),
(2,	'cloud_os',	'standard.yaml',	'version: \"3.7\"\n\nservices:\n  \n  standard:\n    image: bayrell/cloud_os_standard:0.3.0\n    hostname: \"{{.Service.Name}}.{{.Task.ID}}.local\"\n    volumes:\n      - \"standard_data:/data\"\n      - \"/var/run/docker.sock:/var/run/docker.sock:ro\"\n    env_file:\n      - ../cloud_os/cloud_env.conf\n    environment:\n      MYSQL_DB: \"cloud_os_standard\"\n    deploy:\n      replicas: 1\n      endpoint_mode: dnsrr\n      update_config:\n        parallelism: 1\n        failure_action: rollback\n        delay: 5s\n      restart_policy:\n        condition: \"on-failure\"\n        delay: 10s\n        window: 120s\n      placement:\n        constraints:\n          - node.labels.name == docker0\n    networks:\n      - cloud_backend\n    ports:\n      - target: 80\n      published: 8080\n      protocol: tcp\n      mode: host\n      - target: 22\n      published: 8022\n      protocol: tcp\n      mode: host\n    logging:\n      driver: journald\n\nvolumes:\n  standard_data:\n\nnetworks:\n  cloud_backend:\n    external: true\n'),
(3,	'dev',	'php.yaml',	'version: \"3.7\"\n\nservices:\n\n  php:\n    image: bayrell/alpine_php_fpm:7.3-4\n    hostname: \"{{.Service.Name}}.{{.Task.ID}}.local\"\n    volumes:\n      - \"php_data:/data\"\n    deploy:\n      replicas: 2\n      endpoint_mode: dnsrr\n      update_config:\n        parallelism: 1\n        failure_action: rollback\n        delay: 5s\n      restart_policy:\n        condition: \"on-failure\"\n        delay: 10s\n        window: 120s\n      placement:\n        constraints:\n          - node.labels.name == docker0\n    networks:\n      - cloud_frontend\n    logging:\n      driver: journald\n\nvolumes:\n  php_data:\n\nnetworks:\n  cloud_frontend:\n    external: true\n'),
(4,	'cloud_os',	'gateway.yaml',	'version: \"3.7\"\n\nservices:\n  \n  gateway:\n    image: bayrell/bus_gateway:0.3.0\n    hostname: \"{{.Service.Name}}.{{.Task.ID}}.local\"\n    env_file:\n      - ../cloud_os/cloud_env.conf\n    deploy:\n      replicas: 1\n      endpoint_mode: dnsrr\n      update_config:\n        parallelism: 1\n        failure_action: rollback\n        delay: 5s\n      restart_policy:\n        condition: \"on-failure\"\n        delay: 10s\n        window: 120s\n      placement:\n        constraints:\n          - node.labels.name == docker0\n    networks:\n      - cloud_backend\n      - cloud_frontend\n    logging:\n      driver: journald\n\n  rabbitmq:\n    image: rabbitmq:3.8.9-management\n    hostname: \"{{.Service.Name}}.{{.Task.ID}}.local\"\n    volumes:\n      - \"rabbitmq_data:/var/lib/rabbitmq\"\n    deploy:\n      replicas: 1\n      endpoint_mode: dnsrr\n      update_config:\n        parallelism: 1\n        failure_action: rollback\n        delay: 5s\n      restart_policy:\n        condition: \"on-failure\"\n        delay: 10s\n        window: 120s\n      placement:\n        constraints:\n          - node.labels.name == docker0\n    networks:\n      - cloud_backend\n    logging:\n      driver: journald\n\nvolumes:\n  rabbitmq_data:\n\nnetworks:\n  cloud_backend:\n    external: true\n  cloud_frontend:\n    external: true'),
(5,	'cloud_os',	'http.yaml',	'version: \"3.7\"\n\nservices:\n  \n  http:\n    image: bayrell/load_balancer_http:0.3.0\n    hostname: \"{{.Service.Name}}.{{.Task.ID}}.local\"\n    volumes:\n      - \"http_data:/data\"\n    env_file:\n      - ../cloud_os/cloud_env.conf\n    deploy:\n      replicas: 1\n      endpoint_mode: dnsrr\n      update_config:\n        parallelism: 1\n        failure_action: rollback\n        delay: 5s\n      restart_policy:\n        condition: \"on-failure\"\n        delay: 10s\n        window: 120s\n      placement:\n        constraints:\n          - node.labels.name == docker0\n    networks:\n      - cloud_frontend\n    ports:\n      - target: 80\n        published: 80\n        protocol: tcp\n        mode: host\n    logging:\n      driver: journald    \n    \nvolumes:\n  http_data:\n\nnetworks:\n  cloud_frontend:\n    external: true');

DROP TABLE IF EXISTS `cron`;
CREATE TABLE `cron` (
  `command` varchar(255) COLLATE utf8mb4_unicode_ci NOT NULL,
  `last_run` bigint(20) NOT NULL,
  PRIMARY KEY (`command`)
) ENGINE=InnoDB DEFAULT CHARSET=utf8mb4 COLLATE=utf8mb4_unicode_ci;

INSERT INTO `cron` (`command`, `last_run`) VALUES
('Bayrell.CloudOS.DockerTasks::cron',	1612957626);

DROP TABLE IF EXISTS `domains`;
CREATE TABLE `domains` (
  `domain_name` varchar(255) COLLATE utf8mb4_unicode_ci NOT NULL,
  `nginx_template` longtext COLLATE utf8mb4_unicode_ci NOT NULL,
  `space_id` bigint(20) DEFAULT NULL,
  PRIMARY KEY (`domain_name`),
  KEY `space_id` (`space_id`),
  CONSTRAINT `domains_ibfk_1` FOREIGN KEY (`space_id`) REFERENCES `spaces` (`space_id`) ON DELETE SET NULL ON UPDATE CASCADE
) ENGINE=InnoDB DEFAULT CHARSET=utf8mb4 COLLATE=utf8mb4_unicode_ci;


DROP TABLE IF EXISTS `layers`;
CREATE TABLE `layers` (
  `layer_uid` varchar(255) COLLATE utf8mb4_unicode_ci NOT NULL,
  `layer_name` varchar(255) COLLATE utf8mb4_unicode_ci NOT NULL,
  `space_id` bigint(20) DEFAULT NULL,
  PRIMARY KEY (`layer_uid`),
  KEY `space_id` (`space_id`),
  CONSTRAINT `layers_ibfk_1` FOREIGN KEY (`space_id`) REFERENCES `spaces` (`space_id`) ON DELETE SET NULL ON UPDATE CASCADE
) ENGINE=InnoDB DEFAULT CHARSET=utf8mb4 COLLATE=utf8mb4_unicode_ci;


DROP TABLE IF EXISTS `nginx_files`;
CREATE TABLE `nginx_files` (
  `name` varchar(255) COLLATE utf8mb4_unicode_ci NOT NULL,
  `enable` tinyint(4) NOT NULL,
  `content` longtext COLLATE utf8mb4_unicode_ci NOT NULL,
  `timestamp` bigint(20) NOT NULL,
  `is_deleted` tinyint(4) NOT NULL,
  PRIMARY KEY (`name`)
) ENGINE=InnoDB DEFAULT CHARSET=utf8mb4 COLLATE=utf8mb4_unicode_ci;

INSERT INTO `nginx_files` (`name`, `enable`, `content`, `timestamp`, `is_deleted`) VALUES
('/conf.d/99-cloud-admin-upstreams.conf',	1,	'',	1612785502,	1),
('/conf.d/99-cloud-backend-upstreams.conf',	1,	'upstream 15672.cloud_os_rabbitmq.cloud_backend.example {\n	server 172.22.0.11:15672;\n}',	1612957519,	0),
('/conf.d/99-cloud-frontend-upstreams.conf',	1,	'',	1612957519,	0),
('/conf.d/99-load-balancer-upstreams.conf',	1,	'',	1612785506,	1),
('/domains/cloud_os.local.conf',	1,	'server {\n	listen 80;\n	server_name cloud_os.local;\n	root /usr/share/nginx/default;\n	index index.html;\n	autoindex off;\n	location / {\n		proxy_pass http://80.dev_php.cloud_frontend.example;\n		include proxy_params;\n	}\n\n}',	1612957619,	1),
('/inc/services_admin_page.inc',	1,	'location ~* /admin/services/cloud_os_rabbitmq/api/(.*?)/(.*) {\n        proxy_pass http://15672.cloud_os_rabbitmq.cloud_backend.example/api/$1/%2F/$2?$query_string;\n        include proxy_params;\n}\nlocation /admin/services/cloud_os_rabbitmq/ {\n        proxy_pass http://15672.cloud_os_rabbitmq.cloud_backend.example/;\n        include proxy_params;\n}',	1612795624,	0);

DROP TABLE IF EXISTS `roles`;
CREATE TABLE `roles` (
  `role_id` bigint(20) NOT NULL AUTO_INCREMENT,
  `space_id` bigint(20) NOT NULL,
  `role_name` varchar(255) COLLATE utf8mb4_unicode_ci NOT NULL,
  PRIMARY KEY (`role_id`),
  KEY `space_id` (`space_id`),
  CONSTRAINT `roles_ibfk_1` FOREIGN KEY (`space_id`) REFERENCES `spaces` (`space_id`) ON DELETE CASCADE ON UPDATE CASCADE
) ENGINE=InnoDB DEFAULT CHARSET=utf8mb4 COLLATE=utf8mb4_unicode_ci;


DROP TABLE IF EXISTS `routes`;
CREATE TABLE `routes` (
  `id` bigint(20) NOT NULL AUTO_INCREMENT,
  `enable` tinyint(4) NOT NULL,
  `protocol` varchar(255) COLLATE utf8mb4_unicode_ci NOT NULL,
  `domain_name` varchar(255) COLLATE utf8mb4_unicode_ci NOT NULL,
  `route` varchar(255) COLLATE utf8mb4_unicode_ci NOT NULL,
  `docker_name` varchar(255) COLLATE utf8mb4_unicode_ci NOT NULL,
  `target_port` int(11) NOT NULL,
  `route_prefix` varchar(255) COLLATE utf8mb4_unicode_ci NOT NULL,
  `layer_uid` varchar(255) COLLATE utf8mb4_unicode_ci NOT NULL,
  PRIMARY KEY (`id`),
  KEY `domain_name` (`domain_name`),
  CONSTRAINT `routes_ibfk_1` FOREIGN KEY (`domain_name`) REFERENCES `domains` (`domain_name`) ON DELETE CASCADE ON UPDATE CASCADE
) ENGINE=InnoDB DEFAULT CHARSET=utf8mb4 COLLATE=utf8mb4_unicode_ci;


DROP TABLE IF EXISTS `services`;
CREATE TABLE `services` (
  `service_id` bigint(20) NOT NULL AUTO_INCREMENT,
  `stack_name` varchar(255) COLLATE utf8mb4_unicode_ci NOT NULL,
  `service_name` varchar(255) COLLATE utf8mb4_unicode_ci NOT NULL,
  `software_api_name` varchar(255) COLLATE utf8mb4_unicode_ci NOT NULL,
  `have_admin_page` tinyint(4) NOT NULL,
  `admin_port` int(11) NOT NULL,
  `admin_route` varchar(255) COLLATE utf8mb4_unicode_ci NOT NULL,
  `admin_custom_nginx` longtext COLLATE utf8mb4_unicode_ci NOT NULL,
  `enable` tinyint(4) NOT NULL,
  `is_deleted` tinyint(4) NOT NULL,
  `data` longtext CHARACTER SET utf8mb4 COLLATE utf8mb4_bin DEFAULT NULL CHECK (json_valid(`data`)),
  `docker_name` varchar(255) COLLATE utf8mb4_unicode_ci NOT NULL,
  `docker_image` varchar(255) COLLATE utf8mb4_unicode_ci NOT NULL,
  `docker_content` longtext COLLATE utf8mb4_unicode_ci NOT NULL,
  `docker_json` longtext CHARACTER SET utf8mb4 COLLATE utf8mb4_bin DEFAULT NULL CHECK (json_valid(`docker_json`)),
  `docker_tasks` longtext CHARACTER SET utf8mb4 COLLATE utf8mb4_bin DEFAULT NULL CHECK (json_valid(`docker_tasks`)),
  `docker_balancer` longtext CHARACTER SET utf8mb4 COLLATE utf8mb4_bin DEFAULT NULL CHECK (json_valid(`docker_balancer`)),
  `timestamp` bigint(20) NOT NULL,
  PRIMARY KEY (`service_id`),
  UNIQUE KEY `stack_name_service_name` (`stack_name`,`service_name`),
  UNIQUE KEY `docker_name` (`docker_name`)
) ENGINE=InnoDB DEFAULT CHARSET=utf8mb4 COLLATE=utf8mb4_unicode_ci;

INSERT INTO `services` (`service_id`, `stack_name`, `service_name`, `software_api_name`, `have_admin_page`, `admin_port`, `admin_route`, `admin_custom_nginx`, `enable`, `is_deleted`, `data`, `docker_name`, `docker_image`, `docker_content`, `docker_json`, `docker_tasks`, `docker_balancer`, `timestamp`) VALUES
(1,	'database',	'mysql_node1',	'',	0,	0,	'',	'',	1,	0,	NULL,	'database_mysql_node1',	'bayrell/alpine_mariadb:10.5-2@sha256:1718fa23bb1f860d0afa8f94d5bd4492a33ca9f0ba7ddcb7c1eb76b0a053d6b1',	'',	'{\"ID\":\"bopiqtp3q0m4qbzjquzbey89i\",\"Version\":{\"Index\":7748},\"CreatedAt\":\"2021-02-10T11:18:10.753725487Z\",\"UpdatedAt\":\"2021-02-10T11:18:10.753725487Z\",\"Spec\":{\"Name\":\"database_mysql_node1\",\"Labels\":{\"com.docker.stack.image\":\"bayrell\\/alpine_mariadb:10.5-2\",\"com.docker.stack.namespace\":\"database\"},\"TaskTemplate\":{\"ContainerSpec\":{\"Image\":\"bayrell\\/alpine_mariadb:10.5-2@sha256:1718fa23bb1f860d0afa8f94d5bd4492a33ca9f0ba7ddcb7c1eb76b0a053d6b1\",\"Labels\":{\"com.docker.stack.namespace\":\"database\"},\"Hostname\":\"{{.Service.Name}}.{{.Task.ID}}.local\",\"Env\":[\"AMQP_HOST=cloud_os_rabbitmq\",\"AMQP_PORT=5672\",\"CLOUD_BUS_GATEWAY=cloud_os_gateway\",\"CLOUD_KEY=RA5GXfvIMTbblRqOHXIavzGoHVtdG6L6nyfb6PjGrEp0z4T1iCpBBfrsEQ6Ex4mJH7jT6VP3UYlYezv0szUGT7J4JWx6hYz7uc6JjElcOfUWRKNOoQVKdBRebEBfFBdg\",\"DOCKER=1\",\"MYSQL_CMD=--character-set-server=utf8mb4 --collation-server=utf8mb4_unicode_ci --sql-mode=\\\"\\\" --ft_min_word_len=1 --wait_timeout=600 --max_allowed_packet=1G\",\"MYSQL_HOST=database_mysql_node1\",\"MYSQL_PASSWORD=bQ8z6dVOPs0rHK4h\",\"MYSQL_ROOT_PASSWORD=bQ8z6dVOPs0rHK4h\",\"MYSQL_ROOT_USERNAME=root\",\"MYSQL_USERNAME=root\",\"NODE_ID={{.Node.ID}}\",\"SERVICE_ID={{.Service.ID}}\",\"TASK_ID={{.Task.ID}}\"],\"Privileges\":{\"CredentialSpec\":null,\"SELinuxContext\":null},\"Mounts\":[{\"Type\":\"volume\",\"Source\":\"database_mysql_node1_data\",\"Target\":\"\\/data\",\"VolumeOptions\":{\"Labels\":{\"com.docker.stack.namespace\":\"database\"}}}],\"Isolation\":\"default\"},\"Resources\":[],\"RestartPolicy\":{\"Condition\":\"on-failure\",\"Delay\":10000000000,\"MaxAttempts\":0,\"Window\":120000000000},\"Placement\":{\"Constraints\":[\"node.labels.name == docker0\"],\"Platforms\":[{\"Architecture\":\"amd64\",\"OS\":\"linux\"},{\"OS\":\"linux\"}]},\"Networks\":[{\"Target\":\"xq00ze33iythc8paolgryk2na\",\"Aliases\":[\"mysql_node1\"]}],\"LogDriver\":{\"Name\":\"journald\"},\"ForceUpdate\":0,\"Runtime\":\"container\"},\"Mode\":{\"Replicated\":{\"Replicas\":1}},\"UpdateConfig\":{\"Parallelism\":1,\"Delay\":5000000000,\"FailureAction\":\"rollback\",\"MaxFailureRatio\":0,\"Order\":\"stop-first\"},\"EndpointSpec\":{\"Mode\":\"dnsrr\"}},\"Endpoint\":{\"Spec\":[]}}',	'[{\"ID\":\"21z4gbs3v2poh9la60lcbz3ma\",\"Version\":{\"Index\":7763},\"CreatedAt\":\"2021-02-10T11:18:10.786328049Z\",\"UpdatedAt\":\"2021-02-10T11:18:15.370078576Z\",\"Labels\":{},\"Spec\":{\"ContainerSpec\":{\"Image\":\"bayrell/alpine_mariadb:10.5-2@sha256:1718fa23bb1f860d0afa8f94d5bd4492a33ca9f0ba7ddcb7c1eb76b0a053d6b1\",\"Labels\":{\"com.docker.stack.namespace\":\"database\"},\"Hostname\":\"{{.Service.Name}}.{{.Task.ID}}.local\",\"Env\":[\"AMQP_HOST=cloud_os_rabbitmq\",\"AMQP_PORT=5672\",\"CLOUD_BUS_GATEWAY=cloud_os_gateway\",\"CLOUD_KEY=RA5GXfvIMTbblRqOHXIavzGoHVtdG6L6nyfb6PjGrEp0z4T1iCpBBfrsEQ6Ex4mJH7jT6VP3UYlYezv0szUGT7J4JWx6hYz7uc6JjElcOfUWRKNOoQVKdBRebEBfFBdg\",\"DOCKER=1\",\"MYSQL_CMD=--character-set-server=utf8mb4 --collation-server=utf8mb4_unicode_ci --sql-mode=\\\"\\\" --ft_min_word_len=1 --wait_timeout=600 --max_allowed_packet=1G\",\"MYSQL_HOST=database_mysql_node1\",\"MYSQL_PASSWORD=bQ8z6dVOPs0rHK4h\",\"MYSQL_ROOT_PASSWORD=bQ8z6dVOPs0rHK4h\",\"MYSQL_ROOT_USERNAME=root\",\"MYSQL_USERNAME=root\",\"NODE_ID={{.Node.ID}}\",\"SERVICE_ID={{.Service.ID}}\",\"TASK_ID={{.Task.ID}}\"],\"Privileges\":{\"CredentialSpec\":null,\"SELinuxContext\":null},\"Mounts\":[{\"Type\":\"volume\",\"Source\":\"database_mysql_node1_data\",\"Target\":\"/data\",\"VolumeOptions\":{\"Labels\":{\"com.docker.stack.namespace\":\"database\"}}}],\"Isolation\":\"default\"},\"Resources\":{},\"RestartPolicy\":{\"Condition\":\"on-failure\",\"Delay\":10000000000,\"MaxAttempts\":0,\"Window\":120000000000},\"Placement\":{\"Constraints\":[\"node.labels.name == docker0\"],\"Platforms\":[{\"Architecture\":\"amd64\",\"OS\":\"linux\"},{\"OS\":\"linux\"}]},\"Networks\":[{\"Target\":\"xq00ze33iythc8paolgryk2na\",\"Aliases\":[\"mysql_node1\"]}],\"LogDriver\":{\"Name\":\"journald\"},\"ForceUpdate\":0},\"ServiceID\":\"bopiqtp3q0m4qbzjquzbey89i\",\"Slot\":1,\"NodeID\":\"vbtt40su1da4gn15rg3q2ic1r\",\"Status\":{\"Timestamp\":\"2021-02-10T11:18:15.269965798Z\",\"State\":\"running\",\"Message\":\"started\",\"ContainerStatus\":{\"ContainerID\":\"c4282864257fe5845183ffb2fa888655ca6f61b75b01584574aa9ef9a62df85d\",\"PID\":25457,\"ExitCode\":0},\"PortStatus\":{}},\"DesiredState\":\"running\",\"NetworksAttachments\":[{\"Network\":{\"ID\":\"xq00ze33iythc8paolgryk2na\",\"Version\":{\"Index\":7668},\"CreatedAt\":\"2021-02-08T10:58:48.873385548Z\",\"UpdatedAt\":\"2021-02-10T06:54:22.730010881Z\",\"Spec\":{\"Name\":\"cloud_backend\",\"Labels\":{},\"DriverConfiguration\":{\"Name\":\"overlay\",\"Options\":{\"com.docker.network.bridge.name\":\"cloud_backend\"}},\"Attachable\":true,\"IPAMOptions\":{\"Driver\":{\"Name\":\"default\"},\"Configs\":[{\"Subnet\":\"172.22.0.1/16\",\"Gateway\":\"172.22.0.1\"}]},\"Scope\":\"swarm\"},\"DriverState\":{\"Name\":\"overlay\",\"Options\":{\"com.docker.network.bridge.name\":\"cloud_backend\",\"com.docker.network.driver.overlay.vxlanid_list\":\"4098\"}},\"IPAMOptions\":{\"Driver\":{\"Name\":\"default\"},\"Configs\":[{\"Subnet\":\"172.22.0.1/16\",\"Gateway\":\"172.22.0.1\"}]}},\"Addresses\":[\"172.22.0.7/16\"]}]}]\n',	'{\"State\":{\"Work\":1,\"Total\":1},\"Tasks\":[{\"ID\":\"21z4gbs3v2poh9la60lcbz3ma\",\"Status\":{\"Timestamp\":\"2021-02-10T11:18:15.269965798Z\",\"State\":\"running\",\"Message\":\"started\",\"ContainerStatus\":{\"ContainerID\":\"c4282864257fe5845183ffb2fa888655ca6f61b75b01584574aa9ef9a62df85d\",\"PID\":25457,\"ExitCode\":0},\"PortStatus\":[]},\"DesiredState\":\"running\",\"Slot\":1,\"Node\":{\"ID\":\"vbtt40su1da4gn15rg3q2ic1r\",\"Hostname\":\"docker0\",\"Status\":{\"State\":\"ready\",\"Addr\":\"172.30.0.20\"}},\"Networks\":[{\"ID\":\"xq00ze33iythc8paolgryk2na\",\"Name\":\"cloud_backend\",\"Addresses\":[\"172.22.0.7\\/16\"]}]}]}',	1612957626),
(2,	'cloud_os',	'standard',	'',	0,	0,	'',	'',	1,	0,	NULL,	'cloud_os_standard',	'bayrell/cloud_os_standard:0.3.0-20210210_114225',	'',	'{\"ID\":\"l2d0ob43k138z75od49kyd1wo\",\"Version\":{\"Index\":7857},\"CreatedAt\":\"2021-02-10T11:41:01.702940442Z\",\"UpdatedAt\":\"2021-02-10T11:43:23.962424037Z\",\"Spec\":{\"Name\":\"cloud_os_standard\",\"Labels\":{\"com.docker.stack.image\":\"bayrell\\/cloud_os_standard:0.3.0-20210210_114225\",\"com.docker.stack.namespace\":\"cloud_os\"},\"TaskTemplate\":{\"ContainerSpec\":{\"Image\":\"bayrell\\/cloud_os_standard:0.3.0-20210210_114225\",\"Labels\":{\"com.docker.stack.namespace\":\"cloud_os\"},\"Hostname\":\"{{.Service.Name}}.{{.Task.ID}}.local\",\"Env\":[\"AMQP_HOST=cloud_os_rabbitmq\",\"AMQP_PORT=5672\",\"CLOUD_BUS_GATEWAY=cloud_os_gateway\",\"CLOUD_KEY=RA5GXfvIMTbblRqOHXIavzGoHVtdG6L6nyfb6PjGrEp0z4T1iCpBBfrsEQ6Ex4mJH7jT6VP3UYlYezv0szUGT7J4JWx6hYz7uc6JjElcOfUWRKNOoQVKdBRebEBfFBdg\",\"DOCKER=1\",\"MYSQL_DB=cloud_os_standard\",\"MYSQL_HOST=database_mysql_node1\",\"MYSQL_PASSWORD=bQ8z6dVOPs0rHK4h\",\"MYSQL_ROOT_PASSWORD=bQ8z6dVOPs0rHK4h\",\"MYSQL_ROOT_USERNAME=root\",\"MYSQL_USERNAME=root\",\"NODE_ID={{.Node.ID}}\",\"SERVICE_ID={{.Service.ID}}\",\"TASK_ID={{.Task.ID}}\"],\"Privileges\":{\"CredentialSpec\":null,\"SELinuxContext\":null},\"Mounts\":[{\"Type\":\"volume\",\"Source\":\"cloud_os_standard_data\",\"Target\":\"\\/data\",\"VolumeOptions\":{\"Labels\":{\"com.docker.stack.namespace\":\"cloud_os\"}}},{\"Type\":\"bind\",\"Source\":\"\\/var\\/run\\/docker.sock\",\"Target\":\"\\/var\\/run\\/docker.sock\",\"ReadOnly\":true},{\"Type\":\"bind\",\"Source\":\"\\/home\\/ubuntu\\/cloud_os_standard\\/src\",\"Target\":\"\\/var\\/www\"}],\"Isolation\":\"default\"},\"Resources\":[],\"RestartPolicy\":{\"Condition\":\"on-failure\",\"Delay\":10000000000,\"MaxAttempts\":0,\"Window\":120000000000},\"Placement\":{\"Constraints\":[\"node.labels.name == docker0\"]},\"Networks\":[{\"Target\":\"xq00ze33iythc8paolgryk2na\",\"Aliases\":[\"standard\"]}],\"LogDriver\":{\"Name\":\"journald\"},\"ForceUpdate\":0,\"Runtime\":\"container\"},\"Mode\":{\"Replicated\":{\"Replicas\":1}},\"UpdateConfig\":{\"Parallelism\":1,\"Delay\":5000000000,\"FailureAction\":\"rollback\",\"MaxFailureRatio\":0,\"Order\":\"stop-first\"},\"EndpointSpec\":{\"Mode\":\"dnsrr\",\"Ports\":[{\"Protocol\":\"tcp\",\"TargetPort\":22,\"PublishedPort\":8022,\"PublishMode\":\"host\"},{\"Protocol\":\"tcp\",\"TargetPort\":80,\"PublishedPort\":8080,\"PublishMode\":\"host\"}]}},\"PreviousSpec\":{\"Name\":\"cloud_os_standard\",\"Labels\":{\"com.docker.stack.image\":\"bayrell\\/cloud_os_standard:0.3.0-amd64\",\"com.docker.stack.namespace\":\"cloud_os\"},\"TaskTemplate\":{\"ContainerSpec\":{\"Image\":\"bayrell\\/cloud_os_standard:0.3.0-amd64@sha256:828fa0b6ee881f16feee7cadaf3b077cffdc163037d9b3f0a473888853ac501b\",\"Labels\":{\"com.docker.stack.namespace\":\"cloud_os\"},\"Hostname\":\"{{.Service.Name}}.{{.Task.ID}}.local\",\"Env\":[\"AMQP_HOST=cloud_os_rabbitmq\",\"AMQP_PORT=5672\",\"CLOUD_BUS_GATEWAY=cloud_os_gateway\",\"CLOUD_KEY=RA5GXfvIMTbblRqOHXIavzGoHVtdG6L6nyfb6PjGrEp0z4T1iCpBBfrsEQ6Ex4mJH7jT6VP3UYlYezv0szUGT7J4JWx6hYz7uc6JjElcOfUWRKNOoQVKdBRebEBfFBdg\",\"DOCKER=1\",\"MYSQL_DB=cloud_os_standard\",\"MYSQL_HOST=database_mysql_node1\",\"MYSQL_PASSWORD=bQ8z6dVOPs0rHK4h\",\"MYSQL_ROOT_PASSWORD=bQ8z6dVOPs0rHK4h\",\"MYSQL_ROOT_USERNAME=root\",\"MYSQL_USERNAME=root\",\"NODE_ID={{.Node.ID}}\",\"SERVICE_ID={{.Service.ID}}\",\"TASK_ID={{.Task.ID}}\"],\"Privileges\":{\"CredentialSpec\":null,\"SELinuxContext\":null},\"Mounts\":[{\"Type\":\"volume\",\"Source\":\"cloud_os_standard_data\",\"Target\":\"\\/data\",\"VolumeOptions\":{\"Labels\":{\"com.docker.stack.namespace\":\"cloud_os\"}}},{\"Type\":\"bind\",\"Source\":\"\\/var\\/run\\/docker.sock\",\"Target\":\"\\/var\\/run\\/docker.sock\",\"ReadOnly\":true},{\"Type\":\"bind\",\"Source\":\"\\/home\\/ubuntu\\/cloud_os_standard\\/src\",\"Target\":\"\\/var\\/www\"}],\"Isolation\":\"default\"},\"Resources\":[],\"RestartPolicy\":{\"Condition\":\"on-failure\",\"Delay\":10000000000,\"MaxAttempts\":0,\"Window\":120000000000},\"Placement\":{\"Constraints\":[\"node.labels.name == docker0\"],\"Platforms\":[{\"Architecture\":\"amd64\",\"OS\":\"linux\"}]},\"Networks\":[{\"Target\":\"xq00ze33iythc8paolgryk2na\",\"Aliases\":[\"standard\"]}],\"LogDriver\":{\"Name\":\"journald\"},\"ForceUpdate\":0,\"Runtime\":\"container\"},\"Mode\":{\"Replicated\":{\"Replicas\":1}},\"UpdateConfig\":{\"Parallelism\":1,\"Delay\":5000000000,\"FailureAction\":\"rollback\",\"MaxFailureRatio\":0,\"Order\":\"stop-first\"},\"EndpointSpec\":{\"Mode\":\"dnsrr\",\"Ports\":[{\"Protocol\":\"tcp\",\"TargetPort\":22,\"PublishedPort\":8022,\"PublishMode\":\"host\"},{\"Protocol\":\"tcp\",\"TargetPort\":80,\"PublishedPort\":8080,\"PublishMode\":\"host\"}]}},\"Endpoint\":{\"Spec\":{\"Mode\":\"dnsrr\",\"Ports\":[{\"Protocol\":\"tcp\",\"TargetPort\":22,\"PublishedPort\":8022,\"PublishMode\":\"host\"},{\"Protocol\":\"tcp\",\"TargetPort\":80,\"PublishedPort\":8080,\"PublishMode\":\"host\"}]},\"Ports\":[{\"Protocol\":\"tcp\",\"TargetPort\":22,\"PublishedPort\":8022,\"PublishMode\":\"host\"},{\"Protocol\":\"tcp\",\"TargetPort\":80,\"PublishedPort\":8080,\"PublishMode\":\"host\"}]},\"UpdateStatus\":{\"State\":\"completed\",\"StartedAt\":\"2021-02-10T11:42:55.853835211Z\",\"CompletedAt\":\"2021-02-10T11:43:23.9623691Z\",\"Message\":\"update completed\"}}',	'[{\"ID\":\"6kqwueuk4suqvuywtt072tmar\",\"Version\":{\"Index\":7850},\"CreatedAt\":\"2021-02-10T11:41:01.775303017Z\",\"UpdatedAt\":\"2021-02-10T11:43:08.157786832Z\",\"Labels\":{},\"Spec\":{\"ContainerSpec\":{\"Image\":\"bayrell/cloud_os_standard:0.3.0-amd64@sha256:828fa0b6ee881f16feee7cadaf3b077cffdc163037d9b3f0a473888853ac501b\",\"Labels\":{\"com.docker.stack.namespace\":\"cloud_os\"},\"Hostname\":\"{{.Service.Name}}.{{.Task.ID}}.local\",\"Env\":[\"AMQP_HOST=cloud_os_rabbitmq\",\"AMQP_PORT=5672\",\"CLOUD_BUS_GATEWAY=cloud_os_gateway\",\"CLOUD_KEY=RA5GXfvIMTbblRqOHXIavzGoHVtdG6L6nyfb6PjGrEp0z4T1iCpBBfrsEQ6Ex4mJH7jT6VP3UYlYezv0szUGT7J4JWx6hYz7uc6JjElcOfUWRKNOoQVKdBRebEBfFBdg\",\"DOCKER=1\",\"MYSQL_DB=cloud_os_standard\",\"MYSQL_HOST=database_mysql_node1\",\"MYSQL_PASSWORD=bQ8z6dVOPs0rHK4h\",\"MYSQL_ROOT_PASSWORD=bQ8z6dVOPs0rHK4h\",\"MYSQL_ROOT_USERNAME=root\",\"MYSQL_USERNAME=root\",\"NODE_ID={{.Node.ID}}\",\"SERVICE_ID={{.Service.ID}}\",\"TASK_ID={{.Task.ID}}\"],\"Privileges\":{\"CredentialSpec\":null,\"SELinuxContext\":null},\"Mounts\":[{\"Type\":\"volume\",\"Source\":\"cloud_os_standard_data\",\"Target\":\"/data\",\"VolumeOptions\":{\"Labels\":{\"com.docker.stack.namespace\":\"cloud_os\"}}},{\"Type\":\"bind\",\"Source\":\"/var/run/docker.sock\",\"Target\":\"/var/run/docker.sock\",\"ReadOnly\":true},{\"Type\":\"bind\",\"Source\":\"/home/ubuntu/cloud_os_standard/src\",\"Target\":\"/var/www\"}],\"Isolation\":\"default\"},\"Resources\":{},\"RestartPolicy\":{\"Condition\":\"on-failure\",\"Delay\":10000000000,\"MaxAttempts\":0,\"Window\":120000000000},\"Placement\":{\"Constraints\":[\"node.labels.name == docker0\"],\"Platforms\":[{\"Architecture\":\"amd64\",\"OS\":\"linux\"}]},\"Networks\":[{\"Target\":\"xq00ze33iythc8paolgryk2na\",\"Aliases\":[\"standard\"]}],\"LogDriver\":{\"Name\":\"journald\"},\"ForceUpdate\":0},\"ServiceID\":\"l2d0ob43k138z75od49kyd1wo\",\"Slot\":1,\"NodeID\":\"vbtt40su1da4gn15rg3q2ic1r\",\"Status\":{\"Timestamp\":\"2021-02-10T11:43:08.014028204Z\",\"State\":\"shutdown\",\"Message\":\"shutdown\",\"ContainerStatus\":{\"ContainerID\":\"a2fcb1f8da9f9916cfc55a315582f1debc827b70bec0f8a39e2382247e0f28c2\",\"PID\":0,\"ExitCode\":0},\"PortStatus\":{}},\"DesiredState\":\"shutdown\",\"NetworksAttachments\":[{\"Network\":{\"ID\":\"xq00ze33iythc8paolgryk2na\",\"Version\":{\"Index\":7668},\"CreatedAt\":\"2021-02-08T10:58:48.873385548Z\",\"UpdatedAt\":\"2021-02-10T06:54:22.730010881Z\",\"Spec\":{\"Name\":\"cloud_backend\",\"Labels\":{},\"DriverConfiguration\":{\"Name\":\"overlay\",\"Options\":{\"com.docker.network.bridge.name\":\"cloud_backend\"}},\"Attachable\":true,\"IPAMOptions\":{\"Driver\":{\"Name\":\"default\"},\"Configs\":[{\"Subnet\":\"172.22.0.1/16\",\"Gateway\":\"172.22.0.1\"}]},\"Scope\":\"swarm\"},\"DriverState\":{\"Name\":\"overlay\",\"Options\":{\"com.docker.network.bridge.name\":\"cloud_backend\",\"com.docker.network.driver.overlay.vxlanid_list\":\"4098\"}},\"IPAMOptions\":{\"Driver\":{\"Name\":\"default\"},\"Configs\":[{\"Subnet\":\"172.22.0.1/16\",\"Gateway\":\"172.22.0.1\"}]}},\"Addresses\":[\"172.22.0.14/16\"]}]},{\"ID\":\"cflizjfe4taxslgclhv4k9cqs\",\"Version\":{\"Index\":7856},\"CreatedAt\":\"2021-02-10T11:42:55.908817314Z\",\"UpdatedAt\":\"2021-02-10T11:43:13.886062967Z\",\"Labels\":{},\"Spec\":{\"ContainerSpec\":{\"Image\":\"bayrell/cloud_os_standard:0.3.0-20210210_114225\",\"Labels\":{\"com.docker.stack.namespace\":\"cloud_os\"},\"Hostname\":\"{{.Service.Name}}.{{.Task.ID}}.local\",\"Env\":[\"AMQP_HOST=cloud_os_rabbitmq\",\"AMQP_PORT=5672\",\"CLOUD_BUS_GATEWAY=cloud_os_gateway\",\"CLOUD_KEY=RA5GXfvIMTbblRqOHXIavzGoHVtdG6L6nyfb6PjGrEp0z4T1iCpBBfrsEQ6Ex4mJH7jT6VP3UYlYezv0szUGT7J4JWx6hYz7uc6JjElcOfUWRKNOoQVKdBRebEBfFBdg\",\"DOCKER=1\",\"MYSQL_DB=cloud_os_standard\",\"MYSQL_HOST=database_mysql_node1\",\"MYSQL_PASSWORD=bQ8z6dVOPs0rHK4h\",\"MYSQL_ROOT_PASSWORD=bQ8z6dVOPs0rHK4h\",\"MYSQL_ROOT_USERNAME=root\",\"MYSQL_USERNAME=root\",\"NODE_ID={{.Node.ID}}\",\"SERVICE_ID={{.Service.ID}}\",\"TASK_ID={{.Task.ID}}\"],\"Privileges\":{\"CredentialSpec\":null,\"SELinuxContext\":null},\"Mounts\":[{\"Type\":\"volume\",\"Source\":\"cloud_os_standard_data\",\"Target\":\"/data\",\"VolumeOptions\":{\"Labels\":{\"com.docker.stack.namespace\":\"cloud_os\"}}},{\"Type\":\"bind\",\"Source\":\"/var/run/docker.sock\",\"Target\":\"/var/run/docker.sock\",\"ReadOnly\":true},{\"Type\":\"bind\",\"Source\":\"/home/ubuntu/cloud_os_standard/src\",\"Target\":\"/var/www\"}],\"Isolation\":\"default\"},\"Resources\":{},\"RestartPolicy\":{\"Condition\":\"on-failure\",\"Delay\":10000000000,\"MaxAttempts\":0,\"Window\":120000000000},\"Placement\":{\"Constraints\":[\"node.labels.name == docker0\"]},\"Networks\":[{\"Target\":\"xq00ze33iythc8paolgryk2na\",\"Aliases\":[\"standard\"]}],\"LogDriver\":{\"Name\":\"journald\"},\"ForceUpdate\":0},\"ServiceID\":\"l2d0ob43k138z75od49kyd1wo\",\"Slot\":1,\"NodeID\":\"vbtt40su1da4gn15rg3q2ic1r\",\"Status\":{\"Timestamp\":\"2021-02-10T11:43:13.847578026Z\",\"State\":\"running\",\"Message\":\"started\",\"ContainerStatus\":{\"ContainerID\":\"5ac89bcc36a3a6acdf70e506d7e54ce55fc1e7153d2b5ba1d96227aca466afdf\",\"PID\":32417,\"ExitCode\":0},\"PortStatus\":{\"Ports\":[{\"Protocol\":\"tcp\",\"TargetPort\":80,\"PublishedPort\":8080,\"PublishMode\":\"host\"},{\"Protocol\":\"tcp\",\"TargetPort\":22,\"PublishedPort\":8022,\"PublishMode\":\"host\"}]}},\"DesiredState\":\"running\",\"NetworksAttachments\":[{\"Network\":{\"ID\":\"xq00ze33iythc8paolgryk2na\",\"Version\":{\"Index\":7668},\"CreatedAt\":\"2021-02-08T10:58:48.873385548Z\",\"UpdatedAt\":\"2021-02-10T06:54:22.730010881Z\",\"Spec\":{\"Name\":\"cloud_backend\",\"Labels\":{},\"DriverConfiguration\":{\"Name\":\"overlay\",\"Options\":{\"com.docker.network.bridge.name\":\"cloud_backend\"}},\"Attachable\":true,\"IPAMOptions\":{\"Driver\":{\"Name\":\"default\"},\"Configs\":[{\"Subnet\":\"172.22.0.1/16\",\"Gateway\":\"172.22.0.1\"}]},\"Scope\":\"swarm\"},\"DriverState\":{\"Name\":\"overlay\",\"Options\":{\"com.docker.network.bridge.name\":\"cloud_backend\",\"com.docker.network.driver.overlay.vxlanid_list\":\"4098\"}},\"IPAMOptions\":{\"Driver\":{\"Name\":\"default\"},\"Configs\":[{\"Subnet\":\"172.22.0.1/16\",\"Gateway\":\"172.22.0.1\"}]}},\"Addresses\":[\"172.22.0.15/16\"]}]}]\n',	'{\"State\":{\"Work\":1,\"Total\":1},\"Tasks\":[{\"ID\":\"6kqwueuk4suqvuywtt072tmar\",\"Status\":{\"Timestamp\":\"2021-02-10T11:43:08.014028204Z\",\"State\":\"shutdown\",\"Message\":\"shutdown\",\"ContainerStatus\":{\"ContainerID\":\"a2fcb1f8da9f9916cfc55a315582f1debc827b70bec0f8a39e2382247e0f28c2\",\"PID\":0,\"ExitCode\":0},\"PortStatus\":[]},\"DesiredState\":\"shutdown\",\"Slot\":1,\"Node\":{\"ID\":\"vbtt40su1da4gn15rg3q2ic1r\",\"Hostname\":\"docker0\",\"Status\":{\"State\":\"ready\",\"Addr\":\"172.30.0.20\"}},\"Networks\":[{\"ID\":\"xq00ze33iythc8paolgryk2na\",\"Name\":\"cloud_backend\",\"Addresses\":[\"172.22.0.14\\/16\"]}]},{\"ID\":\"cflizjfe4taxslgclhv4k9cqs\",\"Status\":{\"Timestamp\":\"2021-02-10T11:43:13.847578026Z\",\"State\":\"running\",\"Message\":\"started\",\"ContainerStatus\":{\"ContainerID\":\"5ac89bcc36a3a6acdf70e506d7e54ce55fc1e7153d2b5ba1d96227aca466afdf\",\"PID\":32417,\"ExitCode\":0},\"PortStatus\":{\"Ports\":[{\"Protocol\":\"tcp\",\"TargetPort\":80,\"PublishedPort\":8080,\"PublishMode\":\"host\"},{\"Protocol\":\"tcp\",\"TargetPort\":22,\"PublishedPort\":8022,\"PublishMode\":\"host\"}]}},\"DesiredState\":\"running\",\"Slot\":1,\"Node\":{\"ID\":\"vbtt40su1da4gn15rg3q2ic1r\",\"Hostname\":\"docker0\",\"Status\":{\"State\":\"ready\",\"Addr\":\"172.30.0.20\"}},\"Networks\":[{\"ID\":\"xq00ze33iythc8paolgryk2na\",\"Name\":\"cloud_backend\",\"Addresses\":[\"172.22.0.15\\/16\"]}]}]}',	1612957626),
(3,	'dev',	'php',	'',	0,	0,	'',	'',	0,	1,	NULL,	'dev_php',	'bayrell/alpine_php_fpm:7.3-3@sha256:080b8d133b3d29fea616d119690c253e0b5d489491b687cca5a27dc1b3ca7523',	'',	'{\"ID\":\"tqcgj5mfrnt9odcvgo9vit9bk\",\"Version\":{\"Index\":57},\"CreatedAt\":\"2021-02-08T18:18:21.191367446Z\",\"UpdatedAt\":\"2021-02-08T18:18:21.191367446Z\",\"Spec\":{\"Name\":\"dev_php\",\"Labels\":{\"com.docker.stack.image\":\"bayrell\\/alpine_php_fpm:7.3-3\",\"com.docker.stack.namespace\":\"dev\"},\"TaskTemplate\":{\"ContainerSpec\":{\"Image\":\"bayrell\\/alpine_php_fpm:7.3-3@sha256:080b8d133b3d29fea616d119690c253e0b5d489491b687cca5a27dc1b3ca7523\",\"Labels\":{\"com.docker.stack.namespace\":\"dev\"},\"Hostname\":\"{{.Service.Name}}.{{.Task.ID}}.local\",\"Privileges\":{\"CredentialSpec\":null,\"SELinuxContext\":null},\"Mounts\":[{\"Type\":\"volume\",\"Source\":\"dev_php_data\",\"Target\":\"\\/data\",\"VolumeOptions\":{\"Labels\":{\"com.docker.stack.namespace\":\"dev\"}}}],\"Isolation\":\"default\"},\"Resources\":[],\"RestartPolicy\":{\"Condition\":\"on-failure\",\"Delay\":10000000000,\"MaxAttempts\":0,\"Window\":120000000000},\"Placement\":{\"Constraints\":[\"node.labels.name == docker0\"],\"Platforms\":[{\"Architecture\":\"amd64\",\"OS\":\"linux\"},{\"OS\":\"linux\"}]},\"Networks\":[{\"Target\":\"q86b9xwe8328xuxggsn61yufv\",\"Aliases\":[\"php\"]}],\"LogDriver\":{\"Name\":\"journald\"},\"ForceUpdate\":0,\"Runtime\":\"container\"},\"Mode\":{\"Replicated\":{\"Replicas\":2}},\"UpdateConfig\":{\"Parallelism\":1,\"Delay\":5000000000,\"FailureAction\":\"rollback\",\"MaxFailureRatio\":0,\"Order\":\"stop-first\"},\"EndpointSpec\":{\"Mode\":\"dnsrr\"}},\"Endpoint\":{\"Spec\":[]}}',	'[{\"ID\":\"m8m8qs35fwxa55qh9vbx90wm8\",\"Version\":{\"Index\":69},\"CreatedAt\":\"2021-02-08T18:18:21.230204115Z\",\"UpdatedAt\":\"2021-02-08T18:19:00.065831998Z\",\"Labels\":{},\"Spec\":{\"ContainerSpec\":{\"Image\":\"bayrell/alpine_php_fpm:7.3-3@sha256:080b8d133b3d29fea616d119690c253e0b5d489491b687cca5a27dc1b3ca7523\",\"Labels\":{\"com.docker.stack.namespace\":\"dev\"},\"Hostname\":\"{{.Service.Name}}.{{.Task.ID}}.local\",\"Privileges\":{\"CredentialSpec\":null,\"SELinuxContext\":null},\"Mounts\":[{\"Type\":\"volume\",\"Source\":\"dev_php_data\",\"Target\":\"/data\",\"VolumeOptions\":{\"Labels\":{\"com.docker.stack.namespace\":\"dev\"}}}],\"Isolation\":\"default\"},\"Resources\":{},\"RestartPolicy\":{\"Condition\":\"on-failure\",\"Delay\":10000000000,\"MaxAttempts\":0,\"Window\":120000000000},\"Placement\":{\"Constraints\":[\"node.labels.name == docker0\"],\"Platforms\":[{\"Architecture\":\"amd64\",\"OS\":\"linux\"},{\"OS\":\"linux\"}]},\"Networks\":[{\"Target\":\"q86b9xwe8328xuxggsn61yufv\",\"Aliases\":[\"php\"]}],\"LogDriver\":{\"Name\":\"journald\"},\"ForceUpdate\":0},\"ServiceID\":\"tqcgj5mfrnt9odcvgo9vit9bk\",\"Slot\":2,\"NodeID\":\"jfx6fpd23tqvqur5ne7oha08r\",\"Status\":{\"Timestamp\":\"2021-02-08T18:19:00.008553298Z\",\"State\":\"running\",\"Message\":\"started\",\"ContainerStatus\":{\"ContainerID\":\"c3785f40c3973a7eef8985830a4a668c373fdd2225c8336fadf67a8be9e39797\",\"PID\":6731,\"ExitCode\":0},\"PortStatus\":{}},\"DesiredState\":\"running\",\"NetworksAttachments\":[{\"Network\":{\"ID\":\"q86b9xwe8328xuxggsn61yufv\",\"Version\":{\"Index\":12},\"CreatedAt\":\"2021-02-08T18:09:50.171587926Z\",\"UpdatedAt\":\"2021-02-08T18:09:50.214614804Z\",\"Spec\":{\"Name\":\"cloud_frontend\",\"Labels\":{},\"DriverConfiguration\":{\"Name\":\"overlay\",\"Options\":{\"com.docker.network.bridge.name\":\"cloud_frontend\"}},\"Attachable\":true,\"IPAMOptions\":{\"Driver\":{\"Name\":\"default\"},\"Configs\":[{\"Subnet\":\"172.21.0.1/16\",\"Gateway\":\"172.21.0.1\"}]},\"Scope\":\"swarm\"},\"DriverState\":{\"Name\":\"overlay\",\"Options\":{\"com.docker.network.bridge.name\":\"cloud_frontend\",\"com.docker.network.driver.overlay.vxlanid_list\":\"4097\"}},\"IPAMOptions\":{\"Driver\":{\"Name\":\"default\"},\"Configs\":[{\"Subnet\":\"172.21.0.1/16\",\"Gateway\":\"172.21.0.1\"}]}},\"Addresses\":[\"172.21.0.6/16\"]}]},{\"ID\":\"wtqws9vi52fm4cjntytajueuo\",\"Version\":{\"Index\":68},\"CreatedAt\":\"2021-02-08T18:18:21.229922224Z\",\"UpdatedAt\":\"2021-02-08T18:18:59.901422824Z\",\"Labels\":{},\"Spec\":{\"ContainerSpec\":{\"Image\":\"bayrell/alpine_php_fpm:7.3-3@sha256:080b8d133b3d29fea616d119690c253e0b5d489491b687cca5a27dc1b3ca7523\",\"Labels\":{\"com.docker.stack.namespace\":\"dev\"},\"Hostname\":\"{{.Service.Name}}.{{.Task.ID}}.local\",\"Privileges\":{\"CredentialSpec\":null,\"SELinuxContext\":null},\"Mounts\":[{\"Type\":\"volume\",\"Source\":\"dev_php_data\",\"Target\":\"/data\",\"VolumeOptions\":{\"Labels\":{\"com.docker.stack.namespace\":\"dev\"}}}],\"Isolation\":\"default\"},\"Resources\":{},\"RestartPolicy\":{\"Condition\":\"on-failure\",\"Delay\":10000000000,\"MaxAttempts\":0,\"Window\":120000000000},\"Placement\":{\"Constraints\":[\"node.labels.name == docker0\"],\"Platforms\":[{\"Architecture\":\"amd64\",\"OS\":\"linux\"},{\"OS\":\"linux\"}]},\"Networks\":[{\"Target\":\"q86b9xwe8328xuxggsn61yufv\",\"Aliases\":[\"php\"]}],\"LogDriver\":{\"Name\":\"journald\"},\"ForceUpdate\":0},\"ServiceID\":\"tqcgj5mfrnt9odcvgo9vit9bk\",\"Slot\":1,\"NodeID\":\"jfx6fpd23tqvqur5ne7oha08r\",\"Status\":{\"Timestamp\":\"2021-02-08T18:18:59.840347144Z\",\"State\":\"running\",\"Message\":\"started\",\"ContainerStatus\":{\"ContainerID\":\"8a3bf2ba401ebb511a7ca247ef5c73e97c156f035d5281fdf9c3dd0aa5fce37f\",\"PID\":6690,\"ExitCode\":0},\"PortStatus\":{}},\"DesiredState\":\"running\",\"NetworksAttachments\":[{\"Network\":{\"ID\":\"q86b9xwe8328xuxggsn61yufv\",\"Version\":{\"Index\":12},\"CreatedAt\":\"2021-02-08T18:09:50.171587926Z\",\"UpdatedAt\":\"2021-02-08T18:09:50.214614804Z\",\"Spec\":{\"Name\":\"cloud_frontend\",\"Labels\":{},\"DriverConfiguration\":{\"Name\":\"overlay\",\"Options\":{\"com.docker.network.bridge.name\":\"cloud_frontend\"}},\"Attachable\":true,\"IPAMOptions\":{\"Driver\":{\"Name\":\"default\"},\"Configs\":[{\"Subnet\":\"172.21.0.1/16\",\"Gateway\":\"172.21.0.1\"}]},\"Scope\":\"swarm\"},\"DriverState\":{\"Name\":\"overlay\",\"Options\":{\"com.docker.network.bridge.name\":\"cloud_frontend\",\"com.docker.network.driver.overlay.vxlanid_list\":\"4097\"}},\"IPAMOptions\":{\"Driver\":{\"Name\":\"default\"},\"Configs\":[{\"Subnet\":\"172.21.0.1/16\",\"Gateway\":\"172.21.0.1\"}]}},\"Addresses\":[\"172.21.0.5/16\"]}]}]\n',	'{\"State\":{\"Work\":2,\"Total\":2},\"Tasks\":[{\"ID\":\"m8m8qs35fwxa55qh9vbx90wm8\",\"Status\":{\"Timestamp\":\"2021-02-08T18:19:00.008553298Z\",\"State\":\"running\",\"Message\":\"started\",\"ContainerStatus\":{\"ContainerID\":\"c3785f40c3973a7eef8985830a4a668c373fdd2225c8336fadf67a8be9e39797\",\"PID\":6731,\"ExitCode\":0},\"PortStatus\":[]},\"DesiredState\":\"running\",\"Slot\":2,\"Node\":{\"ID\":\"jfx6fpd23tqvqur5ne7oha08r\",\"Hostname\":\"www0\",\"Status\":{\"State\":\"ready\",\"Addr\":\"172.30.0.30\"}},\"Networks\":[{\"ID\":\"q86b9xwe8328xuxggsn61yufv\",\"Name\":\"cloud_frontend\",\"Addresses\":[\"172.21.0.6\\/16\"]}]},{\"ID\":\"wtqws9vi52fm4cjntytajueuo\",\"Status\":{\"Timestamp\":\"2021-02-08T18:18:59.840347144Z\",\"State\":\"running\",\"Message\":\"started\",\"ContainerStatus\":{\"ContainerID\":\"8a3bf2ba401ebb511a7ca247ef5c73e97c156f035d5281fdf9c3dd0aa5fce37f\",\"PID\":6690,\"ExitCode\":0},\"PortStatus\":[]},\"DesiredState\":\"running\",\"Slot\":1,\"Node\":{\"ID\":\"jfx6fpd23tqvqur5ne7oha08r\",\"Hostname\":\"www0\",\"Status\":{\"State\":\"ready\",\"Addr\":\"172.30.0.30\"}},\"Networks\":[{\"ID\":\"q86b9xwe8328xuxggsn61yufv\",\"Name\":\"cloud_frontend\",\"Addresses\":[\"172.21.0.5\\/16\"]}]}]}',	1612808941),
(4,	'cloud_os',	'rabbitmq',	'',	1,	15672,	'/',	'location ~* /admin/services/cloud_os_rabbitmq/api/(.*?)/(.*) {\n        proxy_pass http://15672.cloud_os_rabbitmq.cloud_backend.example/api/$1/%2F/$2?$query_string;\n        include proxy_params;\n}\nlocation /admin/services/cloud_os_rabbitmq/ {\n        proxy_pass http://15672.cloud_os_rabbitmq.cloud_backend.example/;\n        include proxy_params;\n}',	1,	0,	NULL,	'cloud_os_rabbitmq',	'rabbitmq:3.8.9-management@sha256:4ed4f6471c52b1e79250cf019e8c49bb1548021df85b203fbbb637caf44bfddc',	'',	'{\"ID\":\"l15u7sv7kyjugak8vvzkceh77\",\"Version\":{\"Index\":7782},\"CreatedAt\":\"2021-02-10T11:18:25.539577158Z\",\"UpdatedAt\":\"2021-02-10T11:18:25.539577158Z\",\"Spec\":{\"Name\":\"cloud_os_rabbitmq\",\"Labels\":{\"com.docker.stack.image\":\"rabbitmq:3.8.9-management\",\"com.docker.stack.namespace\":\"cloud_os\"},\"TaskTemplate\":{\"ContainerSpec\":{\"Image\":\"rabbitmq:3.8.9-management@sha256:4ed4f6471c52b1e79250cf019e8c49bb1548021df85b203fbbb637caf44bfddc\",\"Labels\":{\"com.docker.stack.namespace\":\"cloud_os\"},\"Hostname\":\"{{.Service.Name}}.{{.Task.ID}}.local\",\"Privileges\":{\"CredentialSpec\":null,\"SELinuxContext\":null},\"Mounts\":[{\"Type\":\"volume\",\"Source\":\"cloud_os_rabbitmq_data\",\"Target\":\"\\/var\\/lib\\/rabbitmq\",\"VolumeOptions\":{\"Labels\":{\"com.docker.stack.namespace\":\"cloud_os\"}}}],\"Isolation\":\"default\"},\"Resources\":[],\"RestartPolicy\":{\"Condition\":\"on-failure\",\"Delay\":10000000000,\"MaxAttempts\":0,\"Window\":120000000000},\"Placement\":{\"Constraints\":[\"node.labels.name == docker0\"],\"Platforms\":[{\"Architecture\":\"amd64\",\"OS\":\"linux\"},{\"OS\":\"linux\"},{\"Architecture\":\"arm64\",\"OS\":\"linux\"},{\"Architecture\":\"386\",\"OS\":\"linux\"},{\"Architecture\":\"s390x\",\"OS\":\"linux\"}]},\"Networks\":[{\"Target\":\"xq00ze33iythc8paolgryk2na\",\"Aliases\":[\"rabbitmq\"]}],\"LogDriver\":{\"Name\":\"journald\"},\"ForceUpdate\":0,\"Runtime\":\"container\"},\"Mode\":{\"Replicated\":{\"Replicas\":1}},\"UpdateConfig\":{\"Parallelism\":1,\"Delay\":5000000000,\"FailureAction\":\"rollback\",\"MaxFailureRatio\":0,\"Order\":\"stop-first\"},\"EndpointSpec\":{\"Mode\":\"dnsrr\"}},\"Endpoint\":{\"Spec\":[]}}',	'[{\"ID\":\"m9kcqvex482psabmhhoo0r1h5\",\"Version\":{\"Index\":7794},\"CreatedAt\":\"2021-02-10T11:18:25.632552771Z\",\"UpdatedAt\":\"2021-02-10T11:18:38.815691087Z\",\"Labels\":{},\"Spec\":{\"ContainerSpec\":{\"Image\":\"rabbitmq:3.8.9-management@sha256:4ed4f6471c52b1e79250cf019e8c49bb1548021df85b203fbbb637caf44bfddc\",\"Labels\":{\"com.docker.stack.namespace\":\"cloud_os\"},\"Hostname\":\"{{.Service.Name}}.{{.Task.ID}}.local\",\"Privileges\":{\"CredentialSpec\":null,\"SELinuxContext\":null},\"Mounts\":[{\"Type\":\"volume\",\"Source\":\"cloud_os_rabbitmq_data\",\"Target\":\"/var/lib/rabbitmq\",\"VolumeOptions\":{\"Labels\":{\"com.docker.stack.namespace\":\"cloud_os\"}}}],\"Isolation\":\"default\"},\"Resources\":{},\"RestartPolicy\":{\"Condition\":\"on-failure\",\"Delay\":10000000000,\"MaxAttempts\":0,\"Window\":120000000000},\"Placement\":{\"Constraints\":[\"node.labels.name == docker0\"],\"Platforms\":[{\"Architecture\":\"amd64\",\"OS\":\"linux\"},{\"OS\":\"linux\"},{\"Architecture\":\"arm64\",\"OS\":\"linux\"},{\"Architecture\":\"386\",\"OS\":\"linux\"},{\"Architecture\":\"s390x\",\"OS\":\"linux\"}]},\"Networks\":[{\"Target\":\"xq00ze33iythc8paolgryk2na\",\"Aliases\":[\"rabbitmq\"]}],\"LogDriver\":{\"Name\":\"journald\"},\"ForceUpdate\":0},\"ServiceID\":\"l15u7sv7kyjugak8vvzkceh77\",\"Slot\":1,\"NodeID\":\"vbtt40su1da4gn15rg3q2ic1r\",\"Status\":{\"Timestamp\":\"2021-02-10T11:18:38.779507462Z\",\"State\":\"running\",\"Message\":\"started\",\"ContainerStatus\":{\"ContainerID\":\"94f50a1527ebc7160f103a10ef2c44f72e02c8429c4a95d20e76613e900052d7\",\"PID\":26070,\"ExitCode\":0},\"PortStatus\":{}},\"DesiredState\":\"running\",\"NetworksAttachments\":[{\"Network\":{\"ID\":\"xq00ze33iythc8paolgryk2na\",\"Version\":{\"Index\":7668},\"CreatedAt\":\"2021-02-08T10:58:48.873385548Z\",\"UpdatedAt\":\"2021-02-10T06:54:22.730010881Z\",\"Spec\":{\"Name\":\"cloud_backend\",\"Labels\":{},\"DriverConfiguration\":{\"Name\":\"overlay\",\"Options\":{\"com.docker.network.bridge.name\":\"cloud_backend\"}},\"Attachable\":true,\"IPAMOptions\":{\"Driver\":{\"Name\":\"default\"},\"Configs\":[{\"Subnet\":\"172.22.0.1/16\",\"Gateway\":\"172.22.0.1\"}]},\"Scope\":\"swarm\"},\"DriverState\":{\"Name\":\"overlay\",\"Options\":{\"com.docker.network.bridge.name\":\"cloud_backend\",\"com.docker.network.driver.overlay.vxlanid_list\":\"4098\"}},\"IPAMOptions\":{\"Driver\":{\"Name\":\"default\"},\"Configs\":[{\"Subnet\":\"172.22.0.1/16\",\"Gateway\":\"172.22.0.1\"}]}},\"Addresses\":[\"172.22.0.11/16\"]}]}]\n',	'{\"State\":{\"Work\":1,\"Total\":1},\"Tasks\":[{\"ID\":\"m9kcqvex482psabmhhoo0r1h5\",\"Status\":{\"Timestamp\":\"2021-02-10T11:18:38.779507462Z\",\"State\":\"running\",\"Message\":\"started\",\"ContainerStatus\":{\"ContainerID\":\"94f50a1527ebc7160f103a10ef2c44f72e02c8429c4a95d20e76613e900052d7\",\"PID\":26070,\"ExitCode\":0},\"PortStatus\":[]},\"DesiredState\":\"running\",\"Slot\":1,\"Node\":{\"ID\":\"vbtt40su1da4gn15rg3q2ic1r\",\"Hostname\":\"docker0\",\"Status\":{\"State\":\"ready\",\"Addr\":\"172.30.0.20\"}},\"Networks\":[{\"ID\":\"xq00ze33iythc8paolgryk2na\",\"Name\":\"cloud_backend\",\"Addresses\":[\"172.22.0.11\\/16\"]}]}]}',	1612957626),
(5,	'cloud_os',	'gateway',	'',	0,	0,	'',	'',	1,	0,	NULL,	'cloud_os_gateway',	'bayrell/bus_gateway:0.3.0@sha256:57dabdc0e90e091e0774a1341ea6b4bed7107477b913bc05f79cac920c8f6b2f',	'',	'{\"ID\":\"4vxag8070j0o2l95li1cytoab\",\"Version\":{\"Index\":7773},\"CreatedAt\":\"2021-02-10T11:18:21.874281221Z\",\"UpdatedAt\":\"2021-02-10T11:18:21.874281221Z\",\"Spec\":{\"Name\":\"cloud_os_gateway\",\"Labels\":{\"com.docker.stack.image\":\"bayrell\\/bus_gateway:0.3.0\",\"com.docker.stack.namespace\":\"cloud_os\"},\"TaskTemplate\":{\"ContainerSpec\":{\"Image\":\"bayrell\\/bus_gateway:0.3.0@sha256:57dabdc0e90e091e0774a1341ea6b4bed7107477b913bc05f79cac920c8f6b2f\",\"Labels\":{\"com.docker.stack.namespace\":\"cloud_os\"},\"Hostname\":\"{{.Service.Name}}.{{.Task.ID}}.local\",\"Env\":[\"AMQP_HOST=cloud_os_rabbitmq\",\"AMQP_PORT=5672\",\"CLOUD_BUS_GATEWAY=cloud_os_gateway\",\"CLOUD_KEY=RA5GXfvIMTbblRqOHXIavzGoHVtdG6L6nyfb6PjGrEp0z4T1iCpBBfrsEQ6Ex4mJH7jT6VP3UYlYezv0szUGT7J4JWx6hYz7uc6JjElcOfUWRKNOoQVKdBRebEBfFBdg\",\"DOCKER=1\",\"MYSQL_HOST=database_mysql_node1\",\"MYSQL_PASSWORD=bQ8z6dVOPs0rHK4h\",\"MYSQL_ROOT_PASSWORD=bQ8z6dVOPs0rHK4h\",\"MYSQL_ROOT_USERNAME=root\",\"MYSQL_USERNAME=root\",\"NODE_ID={{.Node.ID}}\",\"SERVICE_ID={{.Service.ID}}\",\"TASK_ID={{.Task.ID}}\"],\"Privileges\":{\"CredentialSpec\":null,\"SELinuxContext\":null},\"Isolation\":\"default\"},\"Resources\":[],\"RestartPolicy\":{\"Condition\":\"on-failure\",\"Delay\":10000000000,\"MaxAttempts\":0,\"Window\":120000000000},\"Placement\":{\"Constraints\":[\"node.labels.name == docker0\"],\"Platforms\":[{\"Architecture\":\"amd64\",\"OS\":\"linux\"},{\"OS\":\"linux\"}]},\"Networks\":[{\"Target\":\"xq00ze33iythc8paolgryk2na\",\"Aliases\":[\"gateway\"]},{\"Target\":\"rn05l7w18xf4qtqc4kweu3xpv\",\"Aliases\":[\"gateway\"]}],\"LogDriver\":{\"Name\":\"journald\"},\"ForceUpdate\":0,\"Runtime\":\"container\"},\"Mode\":{\"Replicated\":{\"Replicas\":1}},\"UpdateConfig\":{\"Parallelism\":1,\"Delay\":5000000000,\"FailureAction\":\"rollback\",\"MaxFailureRatio\":0,\"Order\":\"stop-first\"},\"EndpointSpec\":{\"Mode\":\"dnsrr\"}},\"Endpoint\":{\"Spec\":[]}}',	'[{\"ID\":\"r7todp93a7ppliu1w0yqbqbtw\",\"Version\":{\"Index\":7793},\"CreatedAt\":\"2021-02-10T11:18:22.15690098Z\",\"UpdatedAt\":\"2021-02-10T11:18:37.029365798Z\",\"Labels\":{},\"Spec\":{\"ContainerSpec\":{\"Image\":\"bayrell/bus_gateway:0.3.0@sha256:57dabdc0e90e091e0774a1341ea6b4bed7107477b913bc05f79cac920c8f6b2f\",\"Labels\":{\"com.docker.stack.namespace\":\"cloud_os\"},\"Hostname\":\"{{.Service.Name}}.{{.Task.ID}}.local\",\"Env\":[\"AMQP_HOST=cloud_os_rabbitmq\",\"AMQP_PORT=5672\",\"CLOUD_BUS_GATEWAY=cloud_os_gateway\",\"CLOUD_KEY=RA5GXfvIMTbblRqOHXIavzGoHVtdG6L6nyfb6PjGrEp0z4T1iCpBBfrsEQ6Ex4mJH7jT6VP3UYlYezv0szUGT7J4JWx6hYz7uc6JjElcOfUWRKNOoQVKdBRebEBfFBdg\",\"DOCKER=1\",\"MYSQL_HOST=database_mysql_node1\",\"MYSQL_PASSWORD=bQ8z6dVOPs0rHK4h\",\"MYSQL_ROOT_PASSWORD=bQ8z6dVOPs0rHK4h\",\"MYSQL_ROOT_USERNAME=root\",\"MYSQL_USERNAME=root\",\"NODE_ID={{.Node.ID}}\",\"SERVICE_ID={{.Service.ID}}\",\"TASK_ID={{.Task.ID}}\"],\"Privileges\":{\"CredentialSpec\":null,\"SELinuxContext\":null},\"Isolation\":\"default\"},\"Resources\":{},\"RestartPolicy\":{\"Condition\":\"on-failure\",\"Delay\":10000000000,\"MaxAttempts\":0,\"Window\":120000000000},\"Placement\":{\"Constraints\":[\"node.labels.name == docker0\"],\"Platforms\":[{\"Architecture\":\"amd64\",\"OS\":\"linux\"},{\"OS\":\"linux\"}]},\"Networks\":[{\"Target\":\"xq00ze33iythc8paolgryk2na\",\"Aliases\":[\"gateway\"]},{\"Target\":\"rn05l7w18xf4qtqc4kweu3xpv\",\"Aliases\":[\"gateway\"]}],\"LogDriver\":{\"Name\":\"journald\"},\"ForceUpdate\":0},\"ServiceID\":\"4vxag8070j0o2l95li1cytoab\",\"Slot\":1,\"NodeID\":\"vbtt40su1da4gn15rg3q2ic1r\",\"Status\":{\"Timestamp\":\"2021-02-10T11:18:37.019234722Z\",\"State\":\"running\",\"Message\":\"started\",\"ContainerStatus\":{\"ContainerID\":\"279b6bf32e07cb3d1d962e5d5990d17f82b9a9dbf6eae42b2a98d85acd8dc49b\",\"PID\":25987,\"ExitCode\":0},\"PortStatus\":{}},\"DesiredState\":\"running\",\"NetworksAttachments\":[{\"Network\":{\"ID\":\"xq00ze33iythc8paolgryk2na\",\"Version\":{\"Index\":7668},\"CreatedAt\":\"2021-02-08T10:58:48.873385548Z\",\"UpdatedAt\":\"2021-02-10T06:54:22.730010881Z\",\"Spec\":{\"Name\":\"cloud_backend\",\"Labels\":{},\"DriverConfiguration\":{\"Name\":\"overlay\",\"Options\":{\"com.docker.network.bridge.name\":\"cloud_backend\"}},\"Attachable\":true,\"IPAMOptions\":{\"Driver\":{\"Name\":\"default\"},\"Configs\":[{\"Subnet\":\"172.22.0.1/16\",\"Gateway\":\"172.22.0.1\"}]},\"Scope\":\"swarm\"},\"DriverState\":{\"Name\":\"overlay\",\"Options\":{\"com.docker.network.bridge.name\":\"cloud_backend\",\"com.docker.network.driver.overlay.vxlanid_list\":\"4098\"}},\"IPAMOptions\":{\"Driver\":{\"Name\":\"default\"},\"Configs\":[{\"Subnet\":\"172.22.0.1/16\",\"Gateway\":\"172.22.0.1\"}]}},\"Addresses\":[\"172.22.0.10/16\"]},{\"Network\":{\"ID\":\"rn05l7w18xf4qtqc4kweu3xpv\",\"Version\":{\"Index\":7668},\"CreatedAt\":\"2021-02-08T10:58:48.805764354Z\",\"UpdatedAt\":\"2021-02-10T06:54:22.729967488Z\",\"Spec\":{\"Name\":\"cloud_frontend\",\"Labels\":{},\"DriverConfiguration\":{\"Name\":\"overlay\",\"Options\":{\"com.docker.network.bridge.name\":\"cloud_frontend\"}},\"Attachable\":true,\"IPAMOptions\":{\"Driver\":{\"Name\":\"default\"},\"Configs\":[{\"Subnet\":\"172.21.0.1/16\",\"Gateway\":\"172.21.0.1\"}]},\"Scope\":\"swarm\"},\"DriverState\":{\"Name\":\"overlay\",\"Options\":{\"com.docker.network.bridge.name\":\"cloud_frontend\",\"com.docker.network.driver.overlay.vxlanid_list\":\"4097\"}},\"IPAMOptions\":{\"Driver\":{\"Name\":\"default\"},\"Configs\":[{\"Subnet\":\"172.21.0.1/16\",\"Gateway\":\"172.21.0.1\"}]}},\"Addresses\":[\"172.21.0.7/16\"]}]}]\n',	'{\"State\":{\"Work\":1,\"Total\":1},\"Tasks\":[{\"ID\":\"r7todp93a7ppliu1w0yqbqbtw\",\"Status\":{\"Timestamp\":\"2021-02-10T11:18:37.019234722Z\",\"State\":\"running\",\"Message\":\"started\",\"ContainerStatus\":{\"ContainerID\":\"279b6bf32e07cb3d1d962e5d5990d17f82b9a9dbf6eae42b2a98d85acd8dc49b\",\"PID\":25987,\"ExitCode\":0},\"PortStatus\":[]},\"DesiredState\":\"running\",\"Slot\":1,\"Node\":{\"ID\":\"vbtt40su1da4gn15rg3q2ic1r\",\"Hostname\":\"docker0\",\"Status\":{\"State\":\"ready\",\"Addr\":\"172.30.0.20\"}},\"Networks\":[{\"ID\":\"xq00ze33iythc8paolgryk2na\",\"Name\":\"cloud_backend\",\"Addresses\":[\"172.22.0.10\\/16\"]},{\"ID\":\"rn05l7w18xf4qtqc4kweu3xpv\",\"Name\":\"cloud_frontend\",\"Addresses\":[\"172.21.0.7\\/16\"]}]}]}',	1612957626),
(6,	'cloud_os',	'http',	'',	0,	0,	'',	'',	1,	0,	NULL,	'cloud_os_http',	'bayrell/load_balancer_http:0.3.0@sha256:b662805a52d38b67e73c4b9396eda84a47a8b21cac182e5becc124d3de857656',	'',	'{\"ID\":\"ddev5gzw2o4jj15ab34kc079l\",\"Version\":{\"Index\":7757},\"CreatedAt\":\"2021-02-10T11:18:14.541061491Z\",\"UpdatedAt\":\"2021-02-10T11:18:14.593208752Z\",\"Spec\":{\"Name\":\"cloud_os_http\",\"Labels\":{\"com.docker.stack.image\":\"bayrell\\/load_balancer_http:0.3.0\",\"com.docker.stack.namespace\":\"cloud_os\"},\"TaskTemplate\":{\"ContainerSpec\":{\"Image\":\"bayrell\\/load_balancer_http:0.3.0@sha256:b662805a52d38b67e73c4b9396eda84a47a8b21cac182e5becc124d3de857656\",\"Labels\":{\"com.docker.stack.namespace\":\"cloud_os\"},\"Hostname\":\"{{.Service.Name}}.{{.Task.ID}}.local\",\"Env\":[\"AMQP_HOST=cloud_os_rabbitmq\",\"AMQP_PORT=5672\",\"CLOUD_BUS_GATEWAY=cloud_os_gateway\",\"CLOUD_KEY=RA5GXfvIMTbblRqOHXIavzGoHVtdG6L6nyfb6PjGrEp0z4T1iCpBBfrsEQ6Ex4mJH7jT6VP3UYlYezv0szUGT7J4JWx6hYz7uc6JjElcOfUWRKNOoQVKdBRebEBfFBdg\",\"DOCKER=1\",\"MYSQL_HOST=database_mysql_node1\",\"MYSQL_PASSWORD=bQ8z6dVOPs0rHK4h\",\"MYSQL_ROOT_PASSWORD=bQ8z6dVOPs0rHK4h\",\"MYSQL_ROOT_USERNAME=root\",\"MYSQL_USERNAME=root\",\"NODE_ID={{.Node.ID}}\",\"SERVICE_ID={{.Service.ID}}\",\"TASK_ID={{.Task.ID}}\"],\"Privileges\":{\"CredentialSpec\":null,\"SELinuxContext\":null},\"Mounts\":[{\"Type\":\"volume\",\"Source\":\"cloud_os_http_data\",\"Target\":\"\\/data\",\"VolumeOptions\":{\"Labels\":{\"com.docker.stack.namespace\":\"cloud_os\"}}}],\"Isolation\":\"default\"},\"Resources\":[],\"RestartPolicy\":{\"Condition\":\"on-failure\",\"Delay\":10000000000,\"MaxAttempts\":0,\"Window\":120000000000},\"Placement\":{\"Constraints\":[\"node.labels.name == docker0\"],\"Platforms\":[{\"Architecture\":\"amd64\",\"OS\":\"linux\"},{\"OS\":\"linux\"}]},\"Networks\":[{\"Target\":\"rn05l7w18xf4qtqc4kweu3xpv\",\"Aliases\":[\"http\"]}],\"LogDriver\":{\"Name\":\"journald\"},\"ForceUpdate\":0,\"Runtime\":\"container\"},\"Mode\":{\"Replicated\":{\"Replicas\":1}},\"UpdateConfig\":{\"Parallelism\":1,\"Delay\":5000000000,\"FailureAction\":\"rollback\",\"MaxFailureRatio\":0,\"Order\":\"stop-first\"},\"EndpointSpec\":{\"Mode\":\"dnsrr\",\"Ports\":[{\"Protocol\":\"tcp\",\"TargetPort\":80,\"PublishedPort\":80,\"PublishMode\":\"host\"}]}},\"Endpoint\":{\"Spec\":{\"Mode\":\"dnsrr\",\"Ports\":[{\"Protocol\":\"tcp\",\"TargetPort\":80,\"PublishedPort\":80,\"PublishMode\":\"host\"}]},\"Ports\":[{\"Protocol\":\"tcp\",\"TargetPort\":80,\"PublishedPort\":80,\"PublishMode\":\"host\"}]}}',	'[{\"ID\":\"stiw715pu9a51nszi3hht3009\",\"Version\":{\"Index\":7778},\"CreatedAt\":\"2021-02-10T11:18:14.561197525Z\",\"UpdatedAt\":\"2021-02-10T11:18:23.421437188Z\",\"Labels\":{},\"Spec\":{\"ContainerSpec\":{\"Image\":\"bayrell/load_balancer_http:0.3.0@sha256:b662805a52d38b67e73c4b9396eda84a47a8b21cac182e5becc124d3de857656\",\"Labels\":{\"com.docker.stack.namespace\":\"cloud_os\"},\"Hostname\":\"{{.Service.Name}}.{{.Task.ID}}.local\",\"Env\":[\"AMQP_HOST=cloud_os_rabbitmq\",\"AMQP_PORT=5672\",\"CLOUD_BUS_GATEWAY=cloud_os_gateway\",\"CLOUD_KEY=RA5GXfvIMTbblRqOHXIavzGoHVtdG6L6nyfb6PjGrEp0z4T1iCpBBfrsEQ6Ex4mJH7jT6VP3UYlYezv0szUGT7J4JWx6hYz7uc6JjElcOfUWRKNOoQVKdBRebEBfFBdg\",\"DOCKER=1\",\"MYSQL_HOST=database_mysql_node1\",\"MYSQL_PASSWORD=bQ8z6dVOPs0rHK4h\",\"MYSQL_ROOT_PASSWORD=bQ8z6dVOPs0rHK4h\",\"MYSQL_ROOT_USERNAME=root\",\"MYSQL_USERNAME=root\",\"NODE_ID={{.Node.ID}}\",\"SERVICE_ID={{.Service.ID}}\",\"TASK_ID={{.Task.ID}}\"],\"Privileges\":{\"CredentialSpec\":null,\"SELinuxContext\":null},\"Mounts\":[{\"Type\":\"volume\",\"Source\":\"cloud_os_http_data\",\"Target\":\"/data\",\"VolumeOptions\":{\"Labels\":{\"com.docker.stack.namespace\":\"cloud_os\"}}}],\"Isolation\":\"default\"},\"Resources\":{},\"RestartPolicy\":{\"Condition\":\"on-failure\",\"Delay\":10000000000,\"MaxAttempts\":0,\"Window\":120000000000},\"Placement\":{\"Constraints\":[\"node.labels.name == docker0\"],\"Platforms\":[{\"Architecture\":\"amd64\",\"OS\":\"linux\"},{\"OS\":\"linux\"}]},\"Networks\":[{\"Target\":\"rn05l7w18xf4qtqc4kweu3xpv\",\"Aliases\":[\"http\"]}],\"LogDriver\":{\"Name\":\"journald\"},\"ForceUpdate\":0},\"ServiceID\":\"ddev5gzw2o4jj15ab34kc079l\",\"Slot\":1,\"NodeID\":\"vbtt40su1da4gn15rg3q2ic1r\",\"Status\":{\"Timestamp\":\"2021-02-10T11:18:23.189962804Z\",\"State\":\"running\",\"Message\":\"started\",\"ContainerStatus\":{\"ContainerID\":\"68d3d4ac28d0e9012bb9ed0441c827305051af3aa7c26297168e253a5a83f8d0\",\"PID\":25709,\"ExitCode\":0},\"PortStatus\":{\"Ports\":[{\"Protocol\":\"tcp\",\"TargetPort\":80,\"PublishedPort\":80,\"PublishMode\":\"host\"}]}},\"DesiredState\":\"running\",\"NetworksAttachments\":[{\"Network\":{\"ID\":\"rn05l7w18xf4qtqc4kweu3xpv\",\"Version\":{\"Index\":7668},\"CreatedAt\":\"2021-02-08T10:58:48.805764354Z\",\"UpdatedAt\":\"2021-02-10T06:54:22.729967488Z\",\"Spec\":{\"Name\":\"cloud_frontend\",\"Labels\":{},\"DriverConfiguration\":{\"Name\":\"overlay\",\"Options\":{\"com.docker.network.bridge.name\":\"cloud_frontend\"}},\"Attachable\":true,\"IPAMOptions\":{\"Driver\":{\"Name\":\"default\"},\"Configs\":[{\"Subnet\":\"172.21.0.1/16\",\"Gateway\":\"172.21.0.1\"}]},\"Scope\":\"swarm\"},\"DriverState\":{\"Name\":\"overlay\",\"Options\":{\"com.docker.network.bridge.name\":\"cloud_frontend\",\"com.docker.network.driver.overlay.vxlanid_list\":\"4097\"}},\"IPAMOptions\":{\"Driver\":{\"Name\":\"default\"},\"Configs\":[{\"Subnet\":\"172.21.0.1/16\",\"Gateway\":\"172.21.0.1\"}]}},\"Addresses\":[\"172.21.0.5/16\"]}]}]\n',	'{\"State\":{\"Work\":1,\"Total\":1},\"Tasks\":[{\"ID\":\"stiw715pu9a51nszi3hht3009\",\"Status\":{\"Timestamp\":\"2021-02-10T11:18:23.189962804Z\",\"State\":\"running\",\"Message\":\"started\",\"ContainerStatus\":{\"ContainerID\":\"68d3d4ac28d0e9012bb9ed0441c827305051af3aa7c26297168e253a5a83f8d0\",\"PID\":25709,\"ExitCode\":0},\"PortStatus\":{\"Ports\":[{\"Protocol\":\"tcp\",\"TargetPort\":80,\"PublishedPort\":80,\"PublishMode\":\"host\"}]}},\"DesiredState\":\"running\",\"Slot\":1,\"Node\":{\"ID\":\"vbtt40su1da4gn15rg3q2ic1r\",\"Hostname\":\"docker0\",\"Status\":{\"State\":\"ready\",\"Addr\":\"172.30.0.20\"}},\"Networks\":[{\"ID\":\"rn05l7w18xf4qtqc4kweu3xpv\",\"Name\":\"cloud_frontend\",\"Addresses\":[\"172.21.0.5\\/16\"]}]}]}',	1612957626);

DROP TABLE IF EXISTS `spaces`;
CREATE TABLE `spaces` (
  `space_id` bigint(20) NOT NULL AUTO_INCREMENT,
  `api_name` varchar(255) COLLATE utf8mb4_unicode_ci NOT NULL,
  `name` varchar(255) COLLATE utf8mb4_unicode_ci NOT NULL,
  PRIMARY KEY (`space_id`)
) ENGINE=InnoDB DEFAULT CHARSET=utf8mb4 COLLATE=utf8mb4_unicode_ci;


DROP TABLE IF EXISTS `stacks`;
CREATE TABLE `stacks` (
  `stack_name` varchar(255) COLLATE utf8mb4_unicode_ci NOT NULL
) ENGINE=InnoDB DEFAULT CHARSET=utf8mb4 COLLATE=utf8mb4_unicode_ci;


DROP TABLE IF EXISTS `top_menu`;
CREATE TABLE `top_menu` (
  `id` bigint(20) NOT NULL AUTO_INCREMENT,
  `name` varchar(255) COLLATE utf8mb4_unicode_ci NOT NULL,
  `href` varchar(255) COLLATE utf8mb4_unicode_ci NOT NULL,
  `pos` bigint(20) NOT NULL,
  PRIMARY KEY (`id`)
) ENGINE=InnoDB DEFAULT CHARSET=utf8mb4 COLLATE=utf8mb4_unicode_ci;


DROP TABLE IF EXISTS `users`;
CREATE TABLE `users` (
  `user_id` bigint(20) NOT NULL AUTO_INCREMENT,
  `login` varchar(255) COLLATE utf8mb4_unicode_ci NOT NULL,
  `name` varchar(255) COLLATE utf8mb4_unicode_ci NOT NULL,
  `banned` tinyint(4) NOT NULL,
  `is_deleted` tinyint(4) NOT NULL,
  PRIMARY KEY (`user_id`),
  UNIQUE KEY `login` (`login`)
) ENGINE=InnoDB DEFAULT CHARSET=utf8mb4 COLLATE=utf8mb4_unicode_ci;


DROP TABLE IF EXISTS `users_auth`;
CREATE TABLE `users_auth` (
  `user_id` bigint(20) NOT NULL,
  `method` varchar(255) COLLATE utf8mb4_unicode_ci NOT NULL,
  `value` varchar(255) COLLATE utf8mb4_unicode_ci NOT NULL,
  UNIQUE KEY `user_id_method` (`user_id`,`method`)
) ENGINE=InnoDB DEFAULT CHARSET=utf8mb4 COLLATE=utf8mb4_unicode_ci;


-- 2021-02-10 11:47:18